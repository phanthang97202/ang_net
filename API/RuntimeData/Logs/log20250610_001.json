{"Timestamp":"2025-06-10T23:52:46.1209412+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"60","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.2253238+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.2869998+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.4508674+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.4517754+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.4622863+07:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.5072845+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\phant\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.6562817+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.6566097+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.6567606+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"F:\\Java + Angular\\ang_net\\API","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:46.6922601+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"17ac9d47e2665cc410094feec3827d22","SpanId":"178ad9092a281617","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44398","PathBase":"","Path":"/swagger","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000006-0004-fb00-b63f-84710c7967bb","RequestPath":"/swagger","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:47.0351080+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"17ac9d47e2665cc410094feec3827d22","SpanId":"178ad9092a281617","Properties":{"RequestMethod":"GET","RequestPath":"/swagger","StatusCode":404,"Elapsed":171.923,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000006-0004-fb00-b63f-84710c7967bb","MachineName":"THANGPHANLAPTOP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"171.9230"}]}}
{"Timestamp":"2025-06-10T23:52:47.0692826+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"17ac9d47e2665cc410094feec3827d22","SpanId":"178ad9092a281617","Properties":{"ElapsedMilliseconds":382.8856,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44398","PathBase":"","Path":"/swagger","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000006-0004-fb00-b63f-84710c7967bb","RequestPath":"/swagger","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:52:47.0718855+07:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"17ac9d47e2665cc410094feec3827d22","SpanId":"178ad9092a281617","Properties":{"Method":"GET","Scheme":"https","Host":"localhost:44398","PathBase":"","Path":"/swagger","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000006-0004-fb00-b63f-84710c7967bb","RequestPath":"/swagger","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:04.5289871+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":61,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/api/account/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:04.7333562+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:53:04'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:04.7632107+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:53:04'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:04.7660288+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"EndpointName":"API.API.Controllers.AccountController.Login (API)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:04.8053492+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"RouteData":"{action = \"Login\", controller = \"Account\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto)","Controller":"API.API.Controllers.AccountController","AssemblyName":"API","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1572baa4-8690-4d9f-befa-29398f5bd3d5","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:05.6611251+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"elapsed":"42","parameters":"@__normalizedEmail_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"Address\", a.\"Avatar\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FlagActive\", a.\"FullName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"\r\nFROM \"AspNetUsers\" AS a\r\nWHERE a.\"NormalizedEmail\" = @__normalizedEmail_0\r\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1572baa4-8690-4d9f-befa-29398f5bd3d5","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:05.9694106+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"elapsed":"9","parameters":"@__userId_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a0.\"Name\"\r\nFROM \"AspNetUserRoles\" AS a\r\nINNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"\r\nWHERE a.\"UserId\" = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1572baa4-8690-4d9f-befa-29398f5bd3d5","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:07.1126080+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"elapsed":"899","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"RefreshTokens\" (\"RefreshToken\", \"ExpiryDate\", \"IsRevoked\", \"UserId\")\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1572baa4-8690-4d9f-befa-29398f5bd3d5","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:07.1423687+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"ObjectResultType":"OkObjectResult","Type":"SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1572baa4-8690-4d9f-befa-29398f5bd3d5","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:07.2327317+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"ActionName":"API.API.Controllers.AccountController.Login (API)","ElapsedMilliseconds":2423.5404,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:07.2337531+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"EndpointName":"API.API.Controllers.AccountController.Login (API)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-10T23:53:07.2354625+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"RequestMethod":"POST","RequestPath":"/api/account/login","StatusCode":200,"Elapsed":2701.237,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","MachineName":"THANGPHANLAPTOP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2701.2370"}]}}
{"Timestamp":"2025-06-10T23:53:07.2405215+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"650047632c3efd3356dfb42acd7292f3","SpanId":"1696ea44f8688328","Properties":{"ElapsedMilliseconds":2712.0614,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/api/account/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000002-0000-fb00-b63f-84710c7967bb","RequestPath":"/api/account/login","MachineName":"THANGPHANLAPTOP"}}
