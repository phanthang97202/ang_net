2025-06-10 21:55:47.050 +07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 21:55:47.218 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-10 21:55:47.371 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 21:55:47.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 21:55:47.865 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-10 21:55:47.882 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-10 21:55:47.947 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-10 21:55:48.106 +07:00 [INF] Creating key {d5830a05-a26f-48bf-84da-c4af87bb3935} with creation date 2025-06-10 14:55:48Z, activation date 2025-06-12 04:37:36Z, and expiration date 2025-09-08 14:55:47Z.
2025-06-10 21:55:48.119 +07:00 [INF] Writing data to file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-d5830a05-a26f-48bf-84da-c4af87bb3935.xml'.
2025-06-10 21:55:48.539 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-10 21:55:48.539 +07:00 [INF] Hosting environment: Development
2025-06-10 21:55:48.539 +07:00 [INF] Content root path: F:\Java + Angular\ang_net\API
2025-06-10 21:55:48.616 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - null null
2025-06-10 21:55:48.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger - null null
2025-06-10 21:55:51.524 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger - 404 null null 2918.6492ms
2025-06-10 21:55:51.531 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44398/swagger, Response status code: 404
2025-06-10 21:55:51.643 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-05-24 04:00:27', Current time (UTC): '2025-06-10 14:55:51'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-10 21:55:51.800 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2025-05-24 04:00:27', Current time (UTC): '2025-06-10 14:55:51'.
2025-06-10 21:55:51.818 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-10 21:55:51.833 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-10 21:55:51.841 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - 401 null null 3238.8145ms
2025-06-10 21:56:02.617 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 61
2025-06-10 21:56:02.622 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 14:56:02'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-10 21:56:02.623 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 14:56:02'.
2025-06-10 21:56:02.628 +07:00 [INF] Executing endpoint 'API.API.Controllers.AccountController.Login (API)'
2025-06-10 21:56:02.670 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto) on controller API.API.Controllers.AccountController (API).
2025-06-10 21:56:03.577 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."Avatar", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FlagActive", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-10 21:56:03.820 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-10 21:56:04.032 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-10 21:56:04.046 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 21:56:04.101 +07:00 [INF] Executed action API.API.Controllers.AccountController.Login (API) in 1426.1538ms
2025-06-10 21:56:04.101 +07:00 [INF] Executed endpoint 'API.API.Controllers.AccountController.Login (API)'
2025-06-10 21:56:04.107 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 1491.1032ms
2025-06-10 21:56:07.617 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - null null
2025-06-10 21:56:07.629 +07:00 [INF] Executing endpoint 'API.API.Controllers.MstProvinceController.GetAllActive (API)'
2025-06-10 21:56:07.634 +07:00 [INF] Route matched with {action = "GetAllActive", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] GetAllActive() on controller API.API.Controllers.MstProvinceController (API).
2025-06-10 21:56:07.789 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."FlagActive"
2025-06-10 21:56:07.795 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 21:56:07.802 +07:00 [INF] Executed action API.API.Controllers.MstProvinceController.GetAllActive (API) in 167.8551ms
2025-06-10 21:56:07.802 +07:00 [INF] Executed endpoint 'API.API.Controllers.MstProvinceController.GetAllActive (API)'
2025-06-10 21:56:07.803 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - 200 null application/json; charset=utf-8 185.657ms
2025-06-10 22:01:02.756 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 22:01:02.842 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-10 22:01:03.016 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 22:01:03.181 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 22:01:03.181 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-10 22:01:03.191 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-10 22:01:03.239 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-10 22:01:03.412 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-10 22:01:03.412 +07:00 [INF] Hosting environment: Development
2025-06-10 22:01:03.412 +07:00 [INF] Content root path: F:\Java + Angular\ang_net\API
2025-06-10 22:01:03.452 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger - null null
2025-06-10 22:01:03.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger - 404 null null 340.3034ms
2025-06-10 22:01:03.789 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44398/swagger, Response status code: 404
2025-06-10 22:01:38.963 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword - null null
2025-06-10 22:01:39.160 +07:00 [INF] Executing endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:01:39.191 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.API.Controllers.MstProvinceController (API).
2025-06-10 22:01:39.986 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
2025-06-10 22:01:40.126 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 22:01:40.127 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 22:01:40.185 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
LIMIT @__p_1 OFFSET @__p_0
2025-06-10 22:01:40.194 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 22:01:40.253 +07:00 [INF] Executed action API.API.Controllers.MstProvinceController.Search (API) in 1058.4716ms
2025-06-10 22:01:40.253 +07:00 [INF] Executed endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:01:40.256 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword - 200 null application/json; charset=utf-8 1292.839ms
2025-06-10 22:02:01.142 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=5&keyword - null null
2025-06-10 22:02:01.157 +07:00 [INF] Executing endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:01.157 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.API.Controllers.MstProvinceController (API).
2025-06-10 22:02:01.259 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
2025-06-10 22:02:01.261 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
LIMIT @__p_1 OFFSET @__p_0
2025-06-10 22:02:01.262 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 22:02:01.265 +07:00 [INF] Executed action API.API.Controllers.MstProvinceController.Search (API) in 106.8964ms
2025-06-10 22:02:01.265 +07:00 [INF] Executed endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:01.265 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=5&keyword - 200 null application/json; charset=utf-8 123.6199ms
2025-06-10 22:02:06.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=0&keyword - null null
2025-06-10 22:02:06.495 +07:00 [INF] Executing endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:06.495 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.API.Controllers.MstProvinceController (API).
2025-06-10 22:02:06.504 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
2025-06-10 22:02:06.507 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 22:02:06.507 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 22:02:06.512 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
LIMIT @__p_0 OFFSET @__p_0
2025-06-10 22:02:06.789 +07:00 [INF] Executed action API.API.Controllers.MstProvinceController.Search (API) in 293.9872ms
2025-06-10 22:02:06.791 +07:00 [INF] Executed endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:06.917 +07:00 [ERR] 
                        ------------------------------------------------
                                        500 Internal Server Error | The server has encountered a situation it does not know how to handle.
                        ------------------------------------------------
                        Method       : GET
                        Path         : /api/MstProvince/Search
                        Request Body : {"StatusCode":500,"Message":"500 Internal Server Error | The server has encountered a situation it does not know how to handle.","DetailException":{"Message":"Attempted to divide by zero.","StackTrace":"   at API.Infrastructure.Data.Services.MstProvinceService.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\\Java \u002B Angular\\ang_net\\API\\Infrastructure\\Data\\Services\\MstProvinceService.cs:line 69\r\n   at API.API.Controllers.MstProvinceController.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\\Java \u002B Angular\\ang_net\\API\\API\\Controllers\\MstProvinceController.cs:line 25\r\n   at lambda_method34(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.\u003CInvokeActionMethodAsync\u003Eg__Awaited|12_0(ControllerActionInvoker invoker, ValueTask\u00601 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.\u003CInvokeNextActionFilterAsync\u003Eg__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State\u0026 next, Scope\u0026 scope, Object\u0026 state, Boolean\u0026 isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeFilterPipelineAsync\u003Eg__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeAsync\u003Eg__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeAsync\u003Eg__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.\u003CInvoke\u003Eg__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at API.API.MIddlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in F:\\Java \u002B Angular\\ang_net\\API\\API\\Middlewares\\LoggingMiddleware.cs:line 23\r\n   at API.API.MIddlewares.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in F:\\Java \u002B Angular\\ang_net\\API\\API\\Middlewares\\GlobalExceptionHandlerMiddleware.cs:line 26","InnerException":null,"Source":"API"}}
                        Response     : System.DivideByZeroException: Attempted to divide by zero.
   at API.Infrastructure.Data.Services.MstProvinceService.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\Java + Angular\ang_net\API\Infrastructure\Data\Services\MstProvinceService.cs:line 69
   at API.API.Controllers.MstProvinceController.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\Java + Angular\ang_net\API\API\Controllers\MstProvinceController.cs:line 25
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at API.API.MIddlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in F:\Java + Angular\ang_net\API\API\Middlewares\LoggingMiddleware.cs:line 23
   at API.API.MIddlewares.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in F:\Java + Angular\ang_net\API\API\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 26
                        ------------------------------------------------
                        
2025-06-10 22:02:06.922 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=0&keyword - 500 null application/json; charset=utf-8 429.7775ms
2025-06-10 22:02:21.688 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=1&keyword - null null
2025-06-10 22:02:21.688 +07:00 [INF] Executing endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:21.688 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.API.Controllers.MstProvinceController (API).
2025-06-10 22:02:21.691 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
2025-06-10 22:02:21.691 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
LIMIT @__p_1 OFFSET @__p_0
2025-06-10 22:02:21.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 22:02:21.692 +07:00 [INF] Executed action API.API.Controllers.MstProvinceController.Search (API) in 3.5798ms
2025-06-10 22:02:21.692 +07:00 [INF] Executed endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:21.692 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=1&keyword - 200 null application/json; charset=utf-8 5.0161ms
2025-06-10 22:02:28.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=1&keyword=%22mam%22 - null null
2025-06-10 22:02:28.577 +07:00 [INF] Executing endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:28.577 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.API.Controllers.MstProvinceController (API).
2025-06-10 22:02:28.688 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?', @__keyword_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."ProvinceName" LIKE @__keyword_0_contains OR m."ProvinceCode" = @__keyword_0
2025-06-10 22:02:28.689 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 22:02:28.689 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 22:02:28.695 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?', @__keyword_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."ProvinceName" LIKE @__keyword_0_contains OR m."ProvinceCode" = @__keyword_0
LIMIT @__p_2 OFFSET @__p_1
2025-06-10 22:02:28.695 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 22:02:28.695 +07:00 [INF] Executed action API.API.Controllers.MstProvinceController.Search (API) in 118.4913ms
2025-06-10 22:02:28.696 +07:00 [INF] Executed endpoint 'API.API.Controllers.MstProvinceController.Search (API)'
2025-06-10 22:02:28.696 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=1&keyword=%22mam%22 - 200 null application/json; charset=utf-8 119.3799ms
2025-06-10 23:26:27.357 +07:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 23:26:27.492 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-10 23:26:27.585 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 23:26:27.680 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-06-10 23:26:27.682 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-10 23:26:27.706 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-06-10 23:26:27.772 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-10 23:26:28.050 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-10 23:26:28.052 +07:00 [INF] Hosting environment: Development
2025-06-10 23:26:28.052 +07:00 [INF] Content root path: F:\Java + Angular\ang_net\API
2025-06-10 23:26:28.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger - null null
2025-06-10 23:26:28.143 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 61
2025-06-10 23:26:29.980 +07:00 [INF] HTTP GET /swagger responded 404 in 1659.9221 ms
2025-06-10 23:26:30.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger - 404 null null 1893.0387ms
2025-06-10 23:26:30.036 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44398/swagger, Response status code: 404
2025-06-10 23:26:30.269 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:26:30'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-10 23:26:30.433 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:26:30'.
2025-06-10 23:26:30.475 +07:00 [INF] Executing endpoint 'API.API.Controllers.AccountController.Login (API)'
2025-06-10 23:26:30.518 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto) on controller API.API.Controllers.AccountController (API).
2025-06-10 23:26:31.050 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."Avatar", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FlagActive", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-06-10 23:26:31.309 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-06-10 23:26:31.510 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-06-10 23:26:31.537 +07:00 [INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-10 23:26:31.571 +07:00 [INF] Executed action API.API.Controllers.AccountController.Login (API) in 1049.6393ms
2025-06-10 23:26:31.571 +07:00 [INF] Executed endpoint 'API.API.Controllers.AccountController.Login (API)'
2025-06-10 23:26:31.572 +07:00 [INF] HTTP POST /api/account/login responded 200 in 3346.7670 ms
2025-06-10 23:26:31.577 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 3441.6951ms
2025-06-10 23:30:54.375 +07:00 [INF] HTTP GET /swagger responded 404 in 177.7836 ms
2025-06-10 23:30:57.636 +07:00 [INF] HTTP POST /api/account/login responded 200 in 1329.3739 ms
2025-06-10 23:31:08.626 +07:00 [INF] HTTP POST /api/account/login responded 200 in 214.1967 ms
2025-06-10 23:33:54.223 +07:00 [INF] HTTP GET /swagger responded 404 in 169.5936 ms
2025-06-10 23:33:58.245 +07:00 [INF] HTTP POST /api/account/login responded 200 in 1099.7352 ms
2025-06-10 23:34:04.449 +07:00 [INF] HTTP POST /api/account/login responded 200 in 253.3991 ms
2025-06-10 23:34:10.549 +07:00 [INF] HTTP GET /api/MstProvince/GetAllActive responded 200 in 150.9497 ms
2025-06-10 23:34:51.154 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 23:34:51.163 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 23:34:51.183 +07:00 [INF] HTTP GET /api/MstProvince/Search responded 200 in 172.6432 ms
2025-06-10 23:35:24.394 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 23:35:24.406 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-06-10 23:35:24.785 +07:00 [ERR] HTTP GET /api/MstProvince/Search responded 500 in 439.5993 ms
System.DivideByZeroException: Attempted to divide by zero.
   at API.Infrastructure.Data.Services.MstProvinceService.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\Java + Angular\ang_net\API\Infrastructure\Data\Services\MstProvinceService.cs:line 69
   at API.API.Controllers.MstProvinceController.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\Java + Angular\ang_net\API\API\Controllers\MstProvinceController.cs:line 25
   at lambda_method328(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at API.API.MIddlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in F:\Java + Angular\ang_net\API\API\Middlewares\LoggingMiddleware.cs:line 23
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-10 23:35:24.906 +07:00 [ERR] 
                        ------------------------------------------------
                                        500 Internal Server Error | The server has encountered a situation it does not know how to handle.
                        ------------------------------------------------
                        Method       : GET
                        Path         : /api/MstProvince/Search
                        Request Body : {"StatusCode":500,"Message":"500 Internal Server Error | The server has encountered a situation it does not know how to handle.","DetailException":{"Message":"Attempted to divide by zero.","StackTrace":"   at API.Infrastructure.Data.Services.MstProvinceService.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\\Java \u002B Angular\\ang_net\\API\\Infrastructure\\Data\\Services\\MstProvinceService.cs:line 69\r\n   at API.API.Controllers.MstProvinceController.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\\Java \u002B Angular\\ang_net\\API\\API\\Controllers\\MstProvinceController.cs:line 25\r\n   at lambda_method328(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.\u003CInvokeActionMethodAsync\u003Eg__Awaited|12_0(ControllerActionInvoker invoker, ValueTask\u00601 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.\u003CInvokeNextActionFilterAsync\u003Eg__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State\u0026 next, Scope\u0026 scope, Object\u0026 state, Boolean\u0026 isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeFilterPipelineAsync\u003Eg__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeAsync\u003Eg__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeAsync\u003Eg__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at API.API.MIddlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in F:\\Java \u002B Angular\\ang_net\\API\\API\\Middlewares\\LoggingMiddleware.cs:line 23\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at API.API.MIddlewares.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in F:\\Java \u002B Angular\\ang_net\\API\\API\\Middlewares\\GlobalExceptionHandlerMiddleware.cs:line 26","InnerException":null,"Source":"API"}}
                        Response     : System.DivideByZeroException: Attempted to divide by zero.
   at API.Infrastructure.Data.Services.MstProvinceService.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\Java + Angular\ang_net\API\Infrastructure\Data\Services\MstProvinceService.cs:line 69
   at API.API.Controllers.MstProvinceController.Search(Int32 pageIndex, Int32 pageSize, String keyword) in F:\Java + Angular\ang_net\API\API\Controllers\MstProvinceController.cs:line 25
   at lambda_method328(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at API.API.MIddlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in F:\Java + Angular\ang_net\API\API\Middlewares\LoggingMiddleware.cs:line 23
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at API.API.MIddlewares.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in F:\Java + Angular\ang_net\API\API\Middlewares\GlobalExceptionHandlerMiddleware.cs:line 26
                        ------------------------------------------------
                        
2025-06-10 23:35:47.470 +07:00 [INF] HTTP GET /api/MstProvince/Search responded 200 in 6.9474 ms
[2025-06-10 23:44:48.978 +07:00 INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.140 +07:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId"; | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.209 +07:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.275 +07:00 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
) | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.276 +07:00 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId"; | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.287 +07:00 INF] No migrations were applied. The database is already up to date. | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.345 +07:00 INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.579 +07:00 INF] Application started. Press Ctrl+C to shut down. | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.580 +07:00 INF] Hosting environment: Development | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.580 +07:00 INF] Content root path: F:\Java + Angular\ang_net\API | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:49.632 +07:00 INF] Request starting HTTP/2 GET https://localhost:44398/swagger - null null | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:50.117 +07:00 INF] HTTP GET /swagger responded 404 in 306.5078 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:50.200 +07:00 INF] Request finished HTTP/2 GET https://localhost:44398/swagger - 404 null null 576.1546ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:50.205 +07:00 INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44398/swagger, Response status code: 404 | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:53.498 +07:00 INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 61 | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:53.668 +07:00 INF] Failed to validate the token. | Machine=THANGPHANLAPTOP
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:44:53'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-06-10 23:44:53.699 +07:00 INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:44:53'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:53.701 +07:00 INF] Executing endpoint 'API.API.Controllers.AccountController.Login (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:53.742 +07:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto) on controller API.API.Controllers.AccountController (API). | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.408 +07:00 INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."Avatar", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FlagActive", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.670 +07:00 INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0 | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.820 +07:00 INF] Executed DbCommand (16ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3); | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.838 +07:00 INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.867 +07:00 INF] Executed action API.API.Controllers.AccountController.Login (API) in 1121.037ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.868 +07:00 INF] Executed endpoint 'API.API.Controllers.AccountController.Login (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.870 +07:00 INF] HTTP POST /api/account/login responded 200 in 1364.2893 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:44:54.875 +07:00 INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 1377.1317ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:14.916 +07:00 INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 61 | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:14.923 +07:00 INF] Failed to validate the token. | Machine=THANGPHANLAPTOP
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:45:14'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-06-10 23:45:14.924 +07:00 INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:45:14'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:14.924 +07:00 INF] Executing endpoint 'API.API.Controllers.AccountController.Login (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:14.925 +07:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto) on controller API.API.Controllers.AccountController (API). | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.002 +07:00 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."Avatar", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FlagActive", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.085 +07:00 INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0 | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.094 +07:00 INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3); | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.096 +07:00 INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.097 +07:00 INF] Executed action API.API.Controllers.AccountController.Login (API) in 171.8378ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.097 +07:00 INF] Executed endpoint 'API.API.Controllers.AccountController.Login (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.098 +07:00 INF] HTTP POST /api/account/login responded 200 in 178.8222 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:15.100 +07:00 INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 184.0771ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:33.953 +07:00 INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - null null | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:33.970 +07:00 INF] Executing endpoint 'API.API.Controllers.MstProvinceController.GetAllActive (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:33.975 +07:00 INF] Route matched with {action = "GetAllActive", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] GetAllActive() on controller API.API.Controllers.MstProvinceController (API). | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:34.071 +07:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."FlagActive" | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:34.076 +07:00 INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:34.083 +07:00 INF] Executed action API.API.Controllers.MstProvinceController.GetAllActive (API) in 108.2384ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:34.084 +07:00 INF] Executed endpoint 'API.API.Controllers.MstProvinceController.GetAllActive (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:34.084 +07:00 INF] HTTP GET /api/MstProvince/GetAllActive responded 200 in 129.7960 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:34.085 +07:00 INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - 200 null application/json; charset=utf-8 132.1036ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.234 +07:00 INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - null null | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.239 +07:00 INF] Executing endpoint 'API.API.Controllers.MstProvinceController.GetAllActive (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.239 +07:00 INF] Route matched with {action = "GetAllActive", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] GetAllActive() on controller API.API.Controllers.MstProvinceController (API). | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.251 +07:00 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."FlagActive" | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.253 +07:00 INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.254 +07:00 INF] Executed action API.API.Controllers.MstProvinceController.GetAllActive (API) in 14.39ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.255 +07:00 INF] Executed endpoint 'API.API.Controllers.MstProvinceController.GetAllActive (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.255 +07:00 INF] HTTP GET /api/MstProvince/GetAllActive responded 200 in 18.5429 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:45:53.256 +07:00 INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/GetAllActive - 200 null application/json; charset=utf-8 21.6279ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.489 +07:00 INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=9&keyword=%22mam%22 - null null | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.493 +07:00 INF] Executing endpoint 'API.API.Controllers.MstProvinceController.Search (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.501 +07:00 INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.API.Controllers.MstProvinceController (API). | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.551 +07:00 INF] Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?', @__keyword_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."ProvinceName" LIKE @__keyword_0_contains OR m."ProvinceCode" = @__keyword_0 | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.555 +07:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased. | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.556 +07:00 WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased. | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.560 +07:00 INF] Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?', @__keyword_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."ProvinceCode", m."CreatedDTime", m."FlagActive", m."ProvinceName", m."UpdatedDTime"
FROM "MstProvinces" AS m
WHERE m."ProvinceName" LIKE @__keyword_0_contains OR m."ProvinceCode" = @__keyword_0
LIMIT @__p_2 OFFSET @__p_1 | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.562 +07:00 INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Models.MstProvinceModel, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.567 +07:00 INF] Executed action API.API.Controllers.MstProvinceController.Search (API) in 65.6851ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.567 +07:00 INF] Executed endpoint 'API.API.Controllers.MstProvinceController.Search (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.568 +07:00 INF] HTTP GET /api/MstProvince/Search responded 200 in 78.2922 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:34.568 +07:00 INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=9&keyword=%22mam%22 - 200 null application/json; charset=utf-8 79.2326ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.220 +07:00 INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 61 | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.221 +07:00 INF] Failed to validate the token. | Machine=THANGPHANLAPTOP
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:46:53'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
[2025-06-10 23:46:53.222 +07:00 INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-10 16:46:53'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.222 +07:00 INF] Executing endpoint 'API.API.Controllers.AccountController.Login (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.222 +07:00 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto) on controller API.API.Controllers.AccountController (API). | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.246 +07:00 INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Address", a."Avatar", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FlagActive", a."FullName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2 | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.325 +07:00 INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0 | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.331 +07:00 INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3); | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.331 +07:00 INF] Executing OkObjectResult, writing value of type 'SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.333 +07:00 INF] Executed action API.API.Controllers.AccountController.Login (API) in 109.9551ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.333 +07:00 INF] Executed endpoint 'API.API.Controllers.AccountController.Login (API)' | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.333 +07:00 INF] HTTP POST /api/account/login responded 200 in 112.5284 ms | Machine=THANGPHANLAPTOP
[2025-06-10 23:46:53.333 +07:00 INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 113.7851ms | Machine=THANGPHANLAPTOP
