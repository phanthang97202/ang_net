2025-02-05 10:48:38.499 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-05 10:48:38.933 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-05 10:48:38.934 +07:00 [INF] Hosting environment: Development
2025-02-05 10:48:38.934 +07:00 [INF] Content root path: D:\MyHomeWork\ang_net\API
2025-02-05 10:48:39.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger/index.html - null null
2025-02-05 10:48:40.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger/index.html - 200 null text/html;charset=utf-8 1644.8128ms
2025-02-05 10:48:41.284 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/_framework/aspnetcore-browser-refresh.js - null null
2025-02-05 10:48:41.305 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 9.7254ms
2025-02-05 10:48:41.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/_vs/browserLink - null null
2025-02-05 10:48:41.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.5409ms
2025-02-05 10:48:41.892 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger/v1/swagger.json - null null
2025-02-05 10:48:42.190 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 297.0236ms
2025-02-05 10:49:46.144 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - application/json 57
2025-02-05 10:49:46.497 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:49:46'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:49:46.591 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:49:46'.
2025-02-05 10:49:46.595 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:49:46.638 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:49:49.044 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:49:49.151 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 2506.9562ms
2025-02-05 10:49:49.152 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:49:49.161 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - 200 null application/json; charset=utf-8 3017.1402ms
2025-02-05 10:51:40.054 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - application/json 57
2025-02-05 10:51:40.069 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:51:40'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:51:40.069 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:51:40'.
2025-02-05 10:51:40.070 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:51:40.070 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:51:58.432 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:51:58.432 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 18362.0671ms
2025-02-05 10:51:58.433 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:51:58.433 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - 200 null application/json; charset=utf-8 18379.1684ms
2025-02-05 10:52:53.424 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - multipart/form-data; boundary=--------------------------221542115493259575931894 197
2025-02-05 10:52:53.431 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:52:53'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:52:53.432 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:52:53'.
2025-02-05 10:52:53.432 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:52:53.432 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:53:23.420 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:53:23.420 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 29988.1455ms
2025-02-05 10:53:23.421 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:53:23.421 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - 200 null application/json; charset=utf-8 29996.65ms
2025-02-05 10:53:25.156 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - multipart/form-data; boundary=--------------------------627862496847474908062738 197
2025-02-05 10:53:25.158 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:53:25'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:53:25.159 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:53:25'.
2025-02-05 10:53:25.159 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:53:25.159 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:53:28.090 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:53:28.091 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 2931.6387ms
2025-02-05 10:53:28.092 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:53:28.092 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - 200 null application/json; charset=utf-8 2936.6747ms
2025-02-05 10:53:35.400 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - multipart/form-data; boundary=--------------------------766004552336675634873341 197
2025-02-05 10:53:35.402 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:53:35'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:53:35.403 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:53:35'.
2025-02-05 10:53:35.403 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:53:35.403 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:53:46.371 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:53:46.373 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 10969.7308ms
2025-02-05 10:53:46.373 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:53:46.374 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice - 200 null application/json; charset=utf-8 10973.7685ms
2025-02-05 10:54:04.723 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 10:54:04.724 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:54:04'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:54:04.724 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:54:04'.
2025-02-05 10:54:04.724 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:54:04.724 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:54:11.506 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 10:54:11.997 +07:00 [INF] Executed DbCommand (185ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 10:54:12.108 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:54:12.110 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 7385.903ms
2025-02-05 10:54:12.111 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:54:12.167 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 7444.3029ms
2025-02-05 10:57:55.375 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 10:57:55.562 +07:00 [INF] CORS policy execution successful.
2025-02-05 10:57:55.623 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 326.9045ms
2025-02-05 10:57:55.631 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 10:57:55.645 +07:00 [INF] CORS policy execution successful.
2025-02-05 10:57:55.675 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 10:57:55.798 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 10:57:56.232 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 10:57:56.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 10:57:57.155 +07:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 10:57:57.170 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 10:57:57.192 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 1392.6695ms
2025-02-05 10:57:57.192 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 10:57:57.192 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 1561.7454ms
2025-02-05 10:58:03.017 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 10:58:03.037 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:58:03'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 10:58:03.055 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 03:58:03'.
2025-02-05 10:58:03.055 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:58:03.055 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 10:58:05.483 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 10:58:05.538 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 10:58:05.541 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 10:58:05.542 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 2487.3328ms
2025-02-05 10:58:05.542 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 10:58:05.543 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 2525.9102ms
2025-02-05 10:58:24.316 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 10:58:24.334 +07:00 [INF] CORS policy execution successful.
2025-02-05 10:58:24.379 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 10:58:24.413 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 10:58:24.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 184.0651ms
2025-02-05 10:58:24.531 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 10:58:24.531 +07:00 [INF] CORS policy execution successful.
2025-02-05 10:58:24.532 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.4894ms
2025-02-05 10:58:24.538 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 10:58:24.539 +07:00 [INF] CORS policy execution successful.
2025-02-05 10:58:24.539 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 10:58:24.651 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 10:58:25.703 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 10:58:25.744 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 10:58:25.765 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 10:58:25.771 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 1120.3488ms
2025-02-05 10:58:25.771 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 10:58:25.772 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 1233.9236ms
2025-02-05 11:03:01.551 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:03:01.646 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:01.685 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 189.2865ms
2025-02-05 11:03:01.710 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:03:01.723 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:01.770 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:03:01.795 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:03:02.202 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:03:02.217 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:03:02.236 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 438.9866ms
2025-02-05 11:03:02.236 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:03:02.240 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 532.8571ms
2025-02-05 11:03:10.250 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:03:10.253 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:10.254 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 3.8094ms
2025-02-05 11:03:10.271 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:03:10.280 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:10.280 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:03:10.281 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:03:10.294 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:03:10.529 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:10.644 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:03:10.646 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:03:10.647 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 365.8953ms
2025-02-05 11:03:10.647 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:03:10.647 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 375.6426ms
2025-02-05 11:03:17.055 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:03:17.080 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:17.132 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:03:17.144 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:03:17.158 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 103.7066ms
2025-02-05 11:03:17.236 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:03:17.236 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:17.238 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 2.0949ms
2025-02-05 11:03:17.243 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:03:17.243 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:17.243 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:03:17.244 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:03:17.312 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:03:17.324 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:03:17.372 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:17.492 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 11:03:17.513 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:03:17.515 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:03:17.515 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 270.9384ms
2025-02-05 11:03:17.515 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:03:17.516 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 272.6504ms
2025-02-05 11:03:17.532 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 11:03:17.533 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:17.533 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.6029ms
2025-02-05 11:03:17.552 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:03:17.552 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:17.691 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:03:17.719 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 11:03:17.840 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:03:17.840 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.049 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 11:03:18.052 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.052 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.056 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.056 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.057 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.059 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.061 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.061 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.064 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.068 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.073 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.074 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:03:18.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:03:18.216 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 497.8657ms
2025-02-05 11:03:18.217 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:03:18.217 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 665.1882ms
2025-02-05 11:03:25.925 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 11:03:25.940 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:03:25'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 11:03:25.951 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:03:25'.
2025-02-05 11:03:25.951 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:03:25.951 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 11:03:32.109 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:03:32.129 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 11:03:32.130 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 11:03:32.130 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 6179.0971ms
2025-02-05 11:03:32.130 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:03:32.130 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 6205.5784ms
2025-02-05 11:03:41.923 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:03:41.924 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:41.924 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:03:41.924 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:03:41.999 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 66.676ms
2025-02-05 11:03:42.413 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:03:42.414 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:42.415 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.5808ms
2025-02-05 11:03:42.597 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:03:42.597 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:03:42.598 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:03:42.598 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:03:42.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:03:42.608 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:03:42.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:03:42.739 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 141.2075ms
2025-02-05 11:03:42.739 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:03:42.741 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 144.2512ms
2025-02-05 11:06:27.631 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:06:27.686 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:06:27.700 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 81.0812ms
2025-02-05 11:06:27.792 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:06:27.794 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:06:27.803 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:06:27.805 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:06:27.962 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:06:28.085 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:06:28.128 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:06:28.128 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:06:28.130 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 323.8663ms
2025-02-05 11:06:28.131 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:06:28.132 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 340.6996ms
2025-02-05 11:06:34.171 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 11:06:34.204 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:06:34'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 11:06:34.218 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:06:34'.
2025-02-05 11:06:34.220 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:06:34.220 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 11:06:34.250 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:06:34.278 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 11:06:34.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 11:06:34.283 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 62.9508ms
2025-02-05 11:06:34.283 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:06:34.284 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 112.5395ms
2025-02-05 11:06:36.944 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:06:36.955 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:06:36.956 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:06:36.956 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:06:36.957 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 13.391ms
2025-02-05 11:06:37.097 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:06:37.107 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:06:37.108 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 11.0141ms
2025-02-05 11:06:37.189 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:06:37.190 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:06:37.190 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:06:37.190 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:06:37.192 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:06:37.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:06:37.203 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:06:37.217 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 27.5616ms
2025-02-05 11:06:37.218 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:06:37.218 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 28.4657ms
2025-02-05 11:10:22.238 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:10:22.291 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:10:22.314 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 105.6072ms
2025-02-05 11:10:22.325 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:10:22.330 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:10:22.346 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:10:22.356 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:10:22.701 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:10:22.858 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:10:22.948 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:10:22.951 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:10:22.956 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 600.2858ms
2025-02-05 11:10:22.957 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:10:22.957 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 633.49ms
2025-02-05 11:10:27.827 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 11:10:27.849 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:10:27'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 11:10:27.856 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:10:27'.
2025-02-05 11:10:27.856 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:10:27.856 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 11:10:27.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:10:27.893 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 11:10:27.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 11:10:27.904 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 47.951ms
2025-02-05 11:10:27.904 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:10:27.904 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 77.4533ms
2025-02-05 11:10:30.769 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:10:30.779 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:10:30.786 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:10:30.788 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:10:30.789 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 19.8033ms
2025-02-05 11:10:30.851 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:10:30.851 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:10:30.859 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 7.8864ms
2025-02-05 11:10:30.876 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:10:30.877 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:10:30.877 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:10:30.877 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:10:30.902 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:10:30.907 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:10:30.911 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:10:30.913 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 35.6965ms
2025-02-05 11:10:30.921 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:10:30.923 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 46.826ms
2025-02-05 11:11:53.134 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:11:53.137 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:11:53.139 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 8.82ms
2025-02-05 11:11:53.161 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:11:53.161 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:11:53.162 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:11:53.164 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:11:53.173 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:11:53.286 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:11:53.321 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:11:53.351 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:11:53.353 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 188.3638ms
2025-02-05 11:11:53.354 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:11:53.354 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 192.8185ms
2025-02-05 11:11:57.394 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 11:11:57.395 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:11:57'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 11:11:57.398 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 04:11:57'.
2025-02-05 11:11:57.399 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:11:57.403 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 11:11:57.408 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:11:57.431 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 11:11:57.431 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 11:11:57.431 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 28.8363ms
2025-02-05 11:11:57.432 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 11:11:57.432 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 38.0448ms
2025-02-05 11:12:01.008 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:12:01.008 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:12:01.010 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:12:01.010 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:12:01.015 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 7.3023ms
2025-02-05 11:12:01.098 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:12:01.099 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:12:01.099 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.7104ms
2025-02-05 11:12:01.127 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:12:01.127 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:12:01.131 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:12:01.131 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:12:01.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:12:01.143 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:12:01.144 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:12:01.146 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 14.6673ms
2025-02-05 11:12:01.146 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:12:01.147 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 20.1497ms
2025-02-05 11:14:56.783 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:14:56.797 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:14:56.812 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 35.4747ms
2025-02-05 11:14:56.813 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:14:56.813 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:14:56.818 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:14:56.836 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:14:56.903 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:14:57.046 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:14:57.047 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 209.9088ms
2025-02-05 11:14:57.047 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:14:57.047 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 234.5272ms
2025-02-05 11:15:05.674 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 11:15:05.676 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:05.681 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 7.6702ms
2025-02-05 11:15:05.684 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 11:15:05.684 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:05.684 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:15:05.684 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:15:05.685 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 11:15:05.833 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:05.878 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:15:05.878 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:05.879 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 194.4907ms
2025-02-05 11:15:05.879 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 11:15:05.879 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 195.4337ms
2025-02-05 11:15:11.179 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:11.180 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:11.182 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:15:11.182 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:15:11.184 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 5.548ms
2025-02-05 11:15:11.251 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:15:11.251 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:11.252 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.8032ms
2025-02-05 11:15:11.257 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:15:11.257 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:11.257 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:11.258 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:15:11.262 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:11.329 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:15:11.330 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.355 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 11:15:11.369 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:15:11.370 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:11.370 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 112.4643ms
2025-02-05 11:15:11.370 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:11.370 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 113.3323ms
2025-02-05 11:15:11.388 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 11:15:11.388 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:11.388 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.5469ms
2025-02-05 11:15:11.397 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:11.397 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:11.424 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:15:11.425 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 11:15:11.464 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:11.465 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.475 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 11:15:11.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.479 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.479 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.479 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.480 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.480 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.480 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.480 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.480 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.481 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.481 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.481 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:11.481 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:11.486 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 61.1392ms
2025-02-05 11:15:11.486 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:15:11.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 89.4751ms
2025-02-05 11:15:17.935 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:18.268 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:18.269 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:15:18.269 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:15:18.274 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 339.0081ms
2025-02-05 11:15:18.698 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:15:18.698 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:18.699 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.5757ms
2025-02-05 11:15:18.705 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:15:18.708 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:18.708 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:18.709 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:15:18.715 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:18.717 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:15:18.719 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:18.746 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 11:15:18.785 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:15:18.786 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:18.799 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 90.8648ms
2025-02-05 11:15:18.800 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:18.800 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 94.9082ms
2025-02-05 11:15:19.068 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 11:15:19.068 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:19.068 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.9115ms
2025-02-05 11:15:19.094 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:19.094 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:19.098 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:15:19.115 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 11:15:19.118 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:19.119 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.124 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 11:15:19.124 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.125 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.125 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.125 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.126 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.126 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.126 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.128 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.130 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.131 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:19.131 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:19.132 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 15.926ms
2025-02-05 11:15:19.132 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:15:19.132 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 37.6721ms
2025-02-05 11:15:26.090 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:26.090 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:26.091 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:15:26.093 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:15:26.097 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 6.8245ms
2025-02-05 11:15:26.258 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:15:26.259 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:26.260 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.7857ms
2025-02-05 11:15:26.269 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:15:26.270 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:26.270 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:26.271 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:15:26.282 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:26.283 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:15:26.284 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.305 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 11:15:26.319 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:15:26.320 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:26.320 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 49.3339ms
2025-02-05 11:15:26.320 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:26.321 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 51.2165ms
2025-02-05 11:15:26.489 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 11:15:26.492 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:26.520 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 31.5131ms
2025-02-05 11:15:26.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:26.521 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:26.522 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:15:26.525 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 11:15:26.529 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:26.529 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.530 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 11:15:26.530 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.530 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.532 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.532 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.533 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.533 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.534 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.535 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.536 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.536 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.537 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.537 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:26.537 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:26.538 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 12.827ms
2025-02-05 11:15:26.538 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 11:15:26.538 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 17.6487ms
2025-02-05 11:15:49.331 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 11:15:49.334 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 11:15:49.334 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.334 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:15:49.335 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:15:49.403 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.409 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 11:15:49.409 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 11:15:49.419 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 88.3547ms
2025-02-05 11:15:49.499 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 165.5312ms
2025-02-05 11:15:49.507 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 11:15:49.507 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.507 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.9769ms
2025-02-05 11:15:49.544 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:15:49.544 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.544 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:49.544 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:15:49.648 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:49.649 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:15:49.649 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 11:15:49.675 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 11:15:49.680 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 11:15:49.680 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.680 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:49.680 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 11:15:49.685 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 11:15:49.687 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:49.690 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 145.0202ms
2025-02-05 11:15:49.690 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:49.690 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 146.4992ms
2025-02-05 11:15:49.720 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 11:15:49.728 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.728 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 7.9995ms
2025-02-05 11:15:49.749 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 11:15:49.749 +07:00 [INF] CORS policy execution successful.
2025-02-05 11:15:49.751 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 11:15:49.777 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 11:15:49.782 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 11:15:49.782 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 11:15:49.785 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 104.0881ms
2025-02-05 11:15:49.785 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 11:15:49.785 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 105.012ms
2025-02-05 11:15:49.890 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 11:15:50.132 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 11:15:50.187 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.239 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.240 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.241 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.242 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.242 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.243 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.243 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.244 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.244 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.245 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.245 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.246 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.246 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.246 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 11:15:50.247 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 11:15:50.261 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 11:15:50.302 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 412.1681ms
2025-02-05 11:15:50.303 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 11:15:50.303 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 554.0025ms
2025-02-05 13:52:15.922 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 13:52:15.986 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:16.015 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 119.345ms
2025-02-05 13:52:16.023 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 13:52:16.027 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:16.052 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 13:52:16.076 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:16.541 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 13:52:16.690 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:16.861 +07:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:16.902 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:16.915 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 833.9182ms
2025-02-05 13:52:16.915 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 13:52:16.915 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 892.9707ms
2025-02-05 13:52:19.012 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 13:52:19.012 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:19.013 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 1.3361ms
2025-02-05 13:52:19.040 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:19.152 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:19.312 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:19.313 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 13:52:19.430 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:19.442 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.461 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 13:52:19.463 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.463 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.463 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.464 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.464 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.464 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.464 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.465 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.465 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.465 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.466 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.466 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:19.478 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:19.506 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 193.2538ms
2025-02-05 13:52:19.506 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:19.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 467.2741ms
2025-02-05 13:52:23.757 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:23.758 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:23.762 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:23.762 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:23.762 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:23.762 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:23.763 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:23.763 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:23.764 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 6.2001ms
2025-02-05 13:52:23.770 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 13.4167ms
2025-02-05 13:52:23.983 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:23.983 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:23.984 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.9201ms
2025-02-05 13:52:23.984 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:23.984 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:23.985 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4213ms
2025-02-05 13:52:23.997 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:23.997 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:23.998 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:23.998 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:23.999 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:23.999 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:24.000 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:24.001 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:24.009 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:24.010 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:24.017 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:24.022 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.026 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:24.027 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.065 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 13:52:24.095 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:24.096 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:24.096 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 94.8311ms
2025-02-05 13:52:24.096 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:24.096 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 97.1865ms
2025-02-05 13:52:24.109 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:24.109 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:24.109 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.382ms
2025-02-05 13:52:24.113 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:24.113 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:24.114 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 13:52:24.114 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 13:52:24.118 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 13:52:24.120 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.123 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.123 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.124 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.125 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.126 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.126 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.126 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.128 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.128 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:24.128 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:24.130 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 13:52:24.132 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 18.2879ms
2025-02-05 13:52:24.132 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 13:52:24.133 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 19.2749ms
2025-02-05 13:52:24.212 +07:00 [INF] Executed DbCommand (169ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 13:52:24.231 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:24.231 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:24.237 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 238.7784ms
2025-02-05 13:52:24.237 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:24.237 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 239.8252ms
2025-02-05 13:52:24.254 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 13:52:24.257 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:24.260 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 5.7467ms
2025-02-05 13:52:24.263 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:24.263 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:24.264 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:24.264 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 13:52:24.268 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:24.269 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.270 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 13:52:24.270 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.270 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.271 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.271 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.272 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.273 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.273 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.273 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.274 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.274 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.275 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.275 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:24.275 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:24.276 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 11.7003ms
2025-02-05 13:52:24.276 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:24.276 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 13.2748ms
2025-02-05 13:52:29.043 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:29.114 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:29.115 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:29.115 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:29.115 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:29.736 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 666.9006ms
2025-02-05 13:52:29.737 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:29.737 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:29.737 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:29.738 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 695.0563ms
2025-02-05 13:52:29.878 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:29.878 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:29.879 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.031ms
2025-02-05 13:52:29.883 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:29.883 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:29.885 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 6.444ms
2025-02-05 13:52:29.937 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:29.937 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:29.937 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:29.937 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:29.939 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:29.941 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:29.941 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:29.941 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:29.941 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:29.941 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:29.942 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:29.946 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:29.947 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:29.950 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:29.958 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 13:52:29.980 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:29.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:29.984 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 46.8059ms
2025-02-05 13:52:29.984 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:29.984 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 48.6141ms
2025-02-05 13:52:30.113 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 13:52:30.114 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:30.114 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 1.1317ms
2025-02-05 13:52:30.122 +07:00 [INF] Executed DbCommand (165ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 13:52:30.125 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:30.125 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:30.135 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:30.136 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 13:52:30.138 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:30.138 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.139 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 13:52:30.140 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.140 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.140 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.142 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.142 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.142 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.142 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:30.142 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:30.143 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 7.2221ms
2025-02-05 13:52:30.143 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:30.143 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 17.878ms
2025-02-05 13:52:30.165 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:30.175 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:30.177 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 235.1613ms
2025-02-05 13:52:30.177 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:30.177 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 236.3095ms
2025-02-05 13:52:30.196 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:30.196 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:30.196 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.4146ms
2025-02-05 13:52:30.204 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:30.205 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:30.208 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 13:52:30.208 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 13:52:30.209 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 13:52:30.209 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.210 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.211 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.211 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.213 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.214 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.215 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.215 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.216 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.216 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.217 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.217 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:30.217 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:30.218 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 13:52:30.219 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 11.6103ms
2025-02-05 13:52:30.221 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 13:52:30.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 17.7863ms
2025-02-05 13:52:35.913 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:35.913 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:35.913 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:35.913 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:35.993 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 80.109ms
2025-02-05 13:52:35.993 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:35.993 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:35.994 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:35.994 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:36.269 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 276.47ms
2025-02-05 13:52:36.619 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:36.620 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.633 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 13.9641ms
2025-02-05 13:52:36.633 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:36.634 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.650 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 16.3182ms
2025-02-05 13:52:36.700 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:36.701 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.701 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:36.701 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:36.701 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:36.701 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.701 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:36.701 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:36.714 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:36.714 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:36.715 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.716 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:36.716 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:36.717 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.736 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 13:52:36.769 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:36.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:36.776 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 74.0712ms
2025-02-05 13:52:36.776 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:36.776 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 74.6654ms
2025-02-05 13:52:36.882 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:36.882 +07:00 [INF] Executed DbCommand (164ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 13:52:36.882 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.882 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.7888ms
2025-02-05 13:52:36.888 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:36.888 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.888 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 13:52:36.888 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 13:52:36.889 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 13:52:36.889 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.890 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.891 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.893 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.893 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.893 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.894 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.894 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.895 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.895 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.896 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.896 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.896 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.897 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 13:52:36.897 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 13:52:36.897 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 13:52:36.898 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 9.5078ms
2025-02-05 13:52:36.898 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 13:52:36.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 10.4949ms
2025-02-05 13:52:36.902 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 13:52:36.905 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:36.906 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 205.2464ms
2025-02-05 13:52:36.906 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:36.906 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 206.0972ms
2025-02-05 13:52:36.953 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 13:52:36.953 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.959 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 6.2609ms
2025-02-05 13:52:36.961 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:36.961 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:36.961 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:36.962 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 13:52:36.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:36.966 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 13:52:36.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.971 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.971 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 13:52:36.974 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:36.975 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 13.6248ms
2025-02-05 13:52:36.975 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 13:52:36.976 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 14.6754ms
2025-02-05 13:52:44.098 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - null 0
2025-02-05 13:52:44.113 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 06:52:44'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-02-05 13:52:44.128 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-02-05 06:52:44'.
2025-02-05 13:52:44.128 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 13:52:44.128 +07:00 [INF] Route matched with {action = "LogoutAllDevice", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] LogoutAllDevice(System.String) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:44.138 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:44.189 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."UserId" = @__userId_0
2025-02-05 13:52:44.189 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 13:52:44.192 +07:00 [INF] Executed action API.Controllers.AccountController.LogoutAllDevice (API) in 63.3349ms
2025-02-05 13:52:44.192 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.LogoutAllDevice (API)'
2025-02-05 13:52:44.192 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/logoutalldevice?userId=9d430ca5-5214-4be5-b68f-ff1214c189ca - 200 null application/json; charset=utf-8 94.1787ms
2025-02-05 13:52:50.176 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 13:52:50.177 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:50.177 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:50.178 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:50.532 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 356.383ms
2025-02-05 13:52:50.533 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 13:52:50.533 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:50.533 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 13:52:50.533 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 13:52:50.571 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 38.613ms
2025-02-05 13:52:50.928 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:50.928 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:50.929 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4468ms
2025-02-05 13:52:50.929 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 13:52:50.929 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:50.929 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.3165ms
2025-02-05 13:52:51.131 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:51.131 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:51.132 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:51.133 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:51.134 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 13:52:51.134 +07:00 [INF] CORS policy execution successful.
2025-02-05 13:52:51.134 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:51.134 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 13:52:51.134 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:51.134 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:51.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:51.137 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 4.1878ms
2025-02-05 13:52:51.137 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:51.137 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 6.5459ms
2025-02-05 13:52:51.139 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 13:52:51.140 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 13:52:51.140 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 13:52:51.142 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 8.041ms
2025-02-05 13:52:51.142 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 13:52:51.143 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 9.1293ms
2025-02-05 14:30:02.004 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 14:30:02.071 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:02.095 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 123.8137ms
2025-02-05 14:30:02.109 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 14:30:02.119 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:02.142 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 14:30:02.168 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:30:02.552 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 14:30:02.691 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:02.815 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:30:02.819 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:30:02.828 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 653.7853ms
2025-02-05 14:30:02.829 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 14:30:02.829 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 722.2576ms
2025-02-05 14:30:07.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:30:07.222 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:30:07.225 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.228 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.274 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:30:07.274 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:30:07.285 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:30:07.285 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:30:07.287 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 67.3303ms
2025-02-05 14:30:07.291 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 69.8368ms
2025-02-05 14:30:07.449 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:30:07.450 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.450 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.5052ms
2025-02-05 14:30:07.465 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:30:07.465 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.472 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 6.6882ms
2025-02-05 14:30:07.475 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:30:07.475 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.476 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:30:07.481 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.481 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:30:07.484 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:30:07.484 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:30:07.485 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:30:07.622 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:30:07.631 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:30:07.643 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:30:07.648 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:30:07.650 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.693 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:30:07.713 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:30:07.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:30:07.714 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 229.623ms
2025-02-05 14:30:07.714 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:30:07.714 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 239.4573ms
2025-02-05 14:30:07.728 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 14:30:07.729 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.729 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.8673ms
2025-02-05 14:30:07.735 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:30:07.735 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.769 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 14:30:07.770 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 14:30:07.794 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 14:30:07.800 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.803 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.803 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.803 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.804 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.804 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.806 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.807 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.808 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.808 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.809 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.809 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:30:07.809 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:30:07.810 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 14:30:07.815 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 45.0291ms
2025-02-05 14:30:07.815 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 14:30:07.815 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 80.4475ms
2025-02-05 14:30:07.841 +07:00 [INF] Executed DbCommand (167ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:30:07.872 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:30:07.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:30:07.877 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 391.8269ms
2025-02-05 14:30:07.877 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:30:07.877 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 401.3098ms
2025-02-05 14:30:07.899 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 14:30:07.899 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.900 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.7828ms
2025-02-05 14:30:07.908 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:30:07.908 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:30:07.908 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:30:07.909 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 14:30:07.964 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:30:07.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 14:30:07.969 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:30:07.974 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:30:07.982 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 73.0924ms
2025-02-05 14:30:07.982 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:30:07.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 74.8614ms
2025-02-05 14:36:47.951 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:36:47.982 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:36:48.031 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:48.033 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:36:48.035 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:36:48.047 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 65.3644ms
2025-02-05 14:36:48.050 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:48.050 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:36:48.050 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:36:48.052 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 107.8155ms
2025-02-05 14:36:48.316 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:36:48.316 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:48.316 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.5635ms
2025-02-05 14:36:48.316 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:36:48.316 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:48.317 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.2931ms
2025-02-05 14:36:48.494 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:36:48.494 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:48.501 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:36:48.658 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:36:49.525 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:36:49.525 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:49.531 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:36:49.531 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:36:49.698 +07:00 [INF] Executed DbCommand (887ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:36:49.829 +07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:36:49.838 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:36:49.838 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:36:49.891 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.022 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.054 +07:00 [INF] Executed DbCommand (149ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:36:50.079 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:36:50.079 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:36:50.281 +07:00 [INF] Executed DbCommand (258ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:36:50.281 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 1623.7575ms
2025-02-05 14:36:50.282 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:36:50.357 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:36:50.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:36:50.358 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 1864.605ms
2025-02-05 14:36:50.368 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 14:36:50.368 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:50.375 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 6.9642ms
2025-02-05 14:36:50.379 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 848.074ms
2025-02-05 14:36:50.379 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:36:50.379 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 854.5275ms
2025-02-05 14:36:50.381 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:36:50.381 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:50.386 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:36:50.391 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 14:36:50.398 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 14:36:50.399 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:50.406 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:36:50.407 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.416 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 18.1812ms
2025-02-05 14:36:50.424 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:36:50.424 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:36:50.447 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 14:36:50.448 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.450 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.451 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.457 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.458 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.458 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 14:36:50.459 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.459 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.471 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.463 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 14:36:50.472 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.473 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.473 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.473 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:36:50.474 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:36:50.474 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 14:36:50.481 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 89.6519ms
2025-02-05 14:36:50.481 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:36:50.481 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 100.3132ms
2025-02-05 14:36:50.482 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.482 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.483 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.483 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.483 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.485 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.486 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.489 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.489 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.490 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.490 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:36:50.490 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:36:50.491 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 14:36:50.514 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 41.7997ms
2025-02-05 14:36:50.514 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 14:36:50.514 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 90.5654ms
2025-02-05 14:37:17.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:37:17.221 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:17.222 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:37:17.222 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:37:17.399 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 295.4687ms
2025-02-05 14:37:17.399 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:37:17.399 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:17.399 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:37:17.399 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:37:17.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 151.9259ms
2025-02-05 14:37:18.093 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:37:18.093 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:18.093 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4464ms
2025-02-05 14:37:18.094 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:37:18.094 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:18.094 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.3807ms
2025-02-05 14:37:18.252 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:37:18.253 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:18.253 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:37:18.255 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:37:18.255 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:18.256 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:37:18.257 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:37:18.266 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:37:18.267 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:37:18.268 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.270 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:37:18.299 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:37:18.469 +07:00 [INF] Executed DbCommand (98ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:37:18.469 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:37:18.469 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:37:18.470 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:37:18.561 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:37:18.561 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 304.4272ms
2025-02-05 14:37:18.561 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:37:18.562 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 310.1675ms
2025-02-05 14:37:18.595 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 324.5724ms
2025-02-05 14:37:18.595 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:37:18.595 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 14:37:18.595 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:18.595 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 340.0278ms
2025-02-05 14:37:18.597 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 1.6258ms
2025-02-05 14:37:18.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:37:18.607 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:37:18.608 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:37:18.608 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 14:37:18.648 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:37:18.649 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.650 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 14:37:18.650 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.651 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.652 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.652 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.653 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.654 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.654 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.654 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.655 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.655 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.655 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.656 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:37:18.656 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:37:18.672 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 63.7094ms
2025-02-05 14:37:18.672 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:37:18.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 65.6705ms
2025-02-05 14:42:07.995 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 14:42:07.997 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:08.002 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 6.6863ms
2025-02-05 14:42:08.005 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 14:42:08.005 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:08.005 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 14:42:08.007 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:42:08.062 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 14:42:08.175 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:42:08.203 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:42:08.203 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:42:08.204 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 197.5735ms
2025-02-05 14:42:08.205 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 14:42:08.205 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 199.9782ms
2025-02-05 14:42:11.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:42:11.498 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:11.498 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:42:11.499 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:42:11.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 2.7426ms
2025-02-05 14:42:11.503 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:42:11.503 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:11.503 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:42:11.504 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:42:11.505 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 1.5424ms
2025-02-05 14:42:11.738 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:42:11.739 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:11.745 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 6.4275ms
2025-02-05 14:42:11.745 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:42:11.745 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:11.755 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 10.1826ms
2025-02-05 14:42:11.757 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:42:11.757 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:11.757 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:42:11.757 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:42:11.759 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:42:11.759 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:42:11.760 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:42:11.789 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:42:11.793 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:42:11.799 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:42:11.800 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:42:11.800 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:42:11.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:42:11.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:42:11.806 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:42:11.807 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 6.3531ms
2025-02-05 14:42:11.807 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:42:11.819 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:42:11.851 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 62.6692ms
2025-02-05 14:42:11.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:42:11.915 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 157.7977ms
2025-02-05 14:42:11.915 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:42:11.915 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 158.4456ms
2025-02-05 14:43:03.366 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 14:43:03.366 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:03.366 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 0.386ms
2025-02-05 14:43:03.371 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 14:43:03.371 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:03.371 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 14:43:03.371 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:43:03.376 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 14:43:03.476 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:03.510 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:43:03.510 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:03.510 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 138.7149ms
2025-02-05 14:43:03.510 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 14:43:03.510 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 139.1711ms
2025-02-05 14:43:07.786 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:43:07.786 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:07.786 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:43:07.786 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:43:07.787 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 1.2419ms
2025-02-05 14:43:07.835 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:43:07.836 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:07.836 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.5804ms
2025-02-05 14:43:07.844 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:43:07.844 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:07.844 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:07.844 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:43:07.846 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:07.846 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:43:07.846 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.868 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:43:07.883 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:43:07.883 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:07.884 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 39.3003ms
2025-02-05 14:43:07.884 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:07.884 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 40.0543ms
2025-02-05 14:43:07.899 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 14:43:07.899 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:07.899 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.6354ms
2025-02-05 14:43:07.911 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:43:07.911 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:07.911 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:43:07.911 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 14:43:07.913 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:07.914 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.914 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 14:43:07.915 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.915 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.916 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.916 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.917 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.918 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.919 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.919 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.920 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.920 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.921 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.921 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:07.922 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:07.924 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 12.0943ms
2025-02-05 14:43:07.924 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:43:07.924 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 13.4361ms
2025-02-05 14:43:13.185 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:43:13.185 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.185 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:43:13.185 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:43:13.189 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 3.8258ms
2025-02-05 14:43:13.191 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:43:13.191 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.192 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:43:13.192 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:43:13.195 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 3.4662ms
2025-02-05 14:43:13.318 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:43:13.318 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.319 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.3228ms
2025-02-05 14:43:13.345 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:43:13.345 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.346 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.193ms
2025-02-05 14:43:13.346 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:43:13.346 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.346 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:13.346 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:43:13.348 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:13.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:43:13.350 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:43:13.351 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.351 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:13.351 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:43:13.351 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.352 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:13.353 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:43:13.354 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.366 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:43:13.403 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:43:13.410 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:13.412 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 66.4894ms
2025-02-05 14:43:13.413 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:13.413 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 67.1297ms
2025-02-05 14:43:13.430 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 14:43:13.430 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.432 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 1.5642ms
2025-02-05 14:43:13.436 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:43:13.436 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.437 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 14:43:13.437 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 14:43:13.438 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 14:43:13.438 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.440 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.441 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.441 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.441 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.442 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.442 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.443 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.443 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.443 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.443 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.444 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.444 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.444 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.444 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 14:43:13.444 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 14:43:13.444 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 14:43:13.445 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 7.6955ms
2025-02-05 14:43:13.445 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 14:43:13.445 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 8.8198ms
2025-02-05 14:43:13.524 +07:00 [INF] Executed DbCommand (168ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:43:13.568 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:43:13.568 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:13.569 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 218.6701ms
2025-02-05 14:43:13.570 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:13.570 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 219.2668ms
2025-02-05 14:43:13.585 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 14:43:13.585 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.585 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.5552ms
2025-02-05 14:43:13.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:43:13.591 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:13.591 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:43:13.592 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 14:43:13.594 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:13.595 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.596 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 14:43:13.596 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.597 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.597 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.597 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.597 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.598 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.598 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.598 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.599 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.599 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.599 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.600 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:13.600 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:13.600 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 8.7277ms
2025-02-05 14:43:13.600 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 14:43:13.601 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 9.7222ms
2025-02-05 14:43:18.861 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 14:43:18.862 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:18.862 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:43:18.862 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:43:18.912 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 50.4093ms
2025-02-05 14:43:19.203 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 14:43:19.205 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:19.205 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 14:43:19.205 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 14:43:19.263 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 59.7924ms
2025-02-05 14:43:19.327 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 14:43:19.327 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:19.331 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 3.5115ms
2025-02-05 14:43:19.352 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:43:19.352 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:19.352 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:19.352 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:43:19.362 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:19.362 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:43:19.363 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 14:43:19.422 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 14:43:19.452 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 14:43:19.566 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:19.618 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 265.7339ms
2025-02-05 14:43:19.618 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:19.618 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 266.6587ms
2025-02-05 14:43:19.752 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 14:43:19.752 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:19.752 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:19.752 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 14:43:19.782 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 14:43:19.794 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 14:43:19.794 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 14:43:19.817 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 64.575ms
2025-02-05 14:43:19.817 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 14:43:19.817 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 65.3543ms
2025-02-05 14:43:19.978 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 14:43:19.979 +07:00 [INF] CORS policy execution successful.
2025-02-05 14:43:19.980 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 1.1828ms
2025-02-05 16:47:20.640 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 16:47:20.720 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:20.758 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 161.9564ms
2025-02-05 16:47:20.780 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 16:47:20.793 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:20.824 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 16:47:20.843 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:47:21.319 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 16:47:21.494 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:47:21.709 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:47:21.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:47:21.727 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 880.1936ms
2025-02-05 16:47:21.727 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 16:47:21.727 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 949.2314ms
2025-02-05 16:47:26.309 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:47:26.310 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:47:26.319 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:26.320 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:26.328 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:47:26.328 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:47:26.333 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:47:26.335 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:47:26.338 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 27.3042ms
2025-02-05 16:47:26.341 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 33.6505ms
2025-02-05 16:47:26.486 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:47:26.486 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:26.486 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.6533ms
2025-02-05 16:47:26.509 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:47:26.509 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:26.509 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:47:26.509 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:47:26.604 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:47:26.620 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:47:26.622 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:47:26.685 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:47:26.761 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:47:26.770 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:47:26.780 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 270.4311ms
2025-02-05 16:47:26.780 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:47:26.780 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 271.3267ms
2025-02-05 16:47:26.814 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:47:26.814 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:26.814 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.673ms
2025-02-05 16:47:26.821 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:47:26.821 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:26.860 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:47:26.860 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:47:26.876 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:47:26.885 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.888 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.889 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.890 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.891 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.891 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.892 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.892 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.892 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.893 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.893 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.894 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.894 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.895 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:26.895 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:26.896 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:47:26.897 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 37.1871ms
2025-02-05 16:47:26.897 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:47:26.898 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 76.5971ms
2025-02-05 16:47:40.794 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:47:40.794 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:40.797 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:47:40.797 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:47:40.953 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 159.033ms
2025-02-05 16:47:40.953 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:47:40.953 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:40.953 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:47:40.953 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:47:41.114 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 131.6935ms
2025-02-05 16:47:41.809 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:47:41.809 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:41.809 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.6565ms
2025-02-05 16:47:41.975 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:47:41.976 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:41.976 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:47:41.977 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:47:41.981 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:47:41.982 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:47:41.983 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:47:42.065 +07:00 [INF] Executed DbCommand (79ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:47:42.198 +07:00 [INF] Executed DbCommand (128ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:47:42.199 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:47:42.214 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 237.7567ms
2025-02-05 16:47:42.215 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:47:42.217 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 242.1981ms
2025-02-05 16:47:42.240 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:47:42.240 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:42.241 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.7858ms
2025-02-05 16:47:42.291 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:47:42.291 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:47:42.292 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:47:42.292 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:47:42.293 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:47:42.293 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.294 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.295 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.296 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.297 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.298 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.299 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.300 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.300 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.300 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.348 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.352 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.353 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.353 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.354 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:47:42.354 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:47:42.355 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:47:42.358 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 66.4939ms
2025-02-05 16:47:42.358 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:47:42.359 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 67.742ms
2025-02-05 16:49:00.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:49:00.901 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:00.901 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:49:00.901 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:49:00.956 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 57.6568ms
2025-02-05 16:49:01.143 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:49:01.143 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:01.143 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:49:01.143 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:49:01.272 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:49:01.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 129.3808ms
2025-02-05 16:49:01.272 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:01.289 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 16.405ms
2025-02-05 16:49:01.334 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:49:01.350 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:01.353 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:49:01.354 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:49:01.360 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:49:01.377 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:49:01.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.473 +07:00 [INF] Executed DbCommand (88ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:49:01.495 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:49:01.497 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:49:01.502 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 148.3471ms
2025-02-05 16:49:01.502 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:49:01.502 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 169.4228ms
2025-02-05 16:49:01.540 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:49:01.541 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:01.545 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 4.2842ms
2025-02-05 16:49:01.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:49:01.664 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:01.669 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:49:01.670 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:49:01.735 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:49:01.736 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.750 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:49:01.751 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.752 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.753 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.754 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.754 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.754 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.755 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.756 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.756 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.757 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.758 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.758 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:01.758 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:49:01.776 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 106.3682ms
2025-02-05 16:49:01.777 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:49:01.777 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 115.4908ms
2025-02-05 16:49:05.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:49:05.654 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:05.654 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:49:05.654 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:49:05.847 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 193.2543ms
2025-02-05 16:49:05.893 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:49:05.893 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:05.895 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:49:05.895 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:49:05.896 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 2.9756ms
2025-02-05 16:49:06.355 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:49:06.356 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:06.356 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:49:06.356 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:49:06.451 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:49:06.452 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:49:06.452 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:49:06.475 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:49:06.502 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:49:06.502 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:49:06.713 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 357.0157ms
2025-02-05 16:49:06.713 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:49:06.716 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 360.1996ms
2025-02-05 16:49:06.771 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:49:06.771 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:06.772 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.5766ms
2025-02-05 16:49:06.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:49:06.939 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:49:06.942 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:49:06.942 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:49:06.946 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:49:06.946 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.951 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.952 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.952 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.967 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.967 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.976 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.976 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.977 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:49:06.978 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:49:06.978 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:49:06.979 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 36.8271ms
2025-02-05 16:49:06.979 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:49:06.984 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 45.405ms
2025-02-05 16:50:42.671 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:50:42.672 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:50:42.673 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:50:42.673 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:50:42.673 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 2.3471ms
2025-02-05 16:50:42.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:50:42.679 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:50:42.679 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:50:42.679 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:50:42.679 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 1.0226ms
2025-02-05 16:50:45.703 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:50:45.703 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:50:45.704 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.0269ms
2025-02-05 16:50:45.709 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:50:45.709 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:50:45.709 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:50:45.710 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:50:45.729 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:50:45.734 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:50:45.765 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:50:45.785 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:50:45.804 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:50:45.805 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:50:45.805 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 95.6876ms
2025-02-05 16:50:45.805 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:50:45.806 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 97.2813ms
2025-02-05 16:50:46.265 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:50:46.266 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:50:46.266 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.4078ms
2025-02-05 16:50:46.271 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:50:46.271 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:50:46.284 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:50:46.284 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:50:46.287 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:50:46.288 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.289 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.290 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.290 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.290 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.291 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.291 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.291 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.292 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.292 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.293 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.293 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.293 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.294 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.294 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:50:46.294 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:50:46.295 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:50:46.296 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 11.094ms
2025-02-05 16:50:46.296 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:50:46.296 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 25.467ms
2025-02-05 16:51:08.921 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:51:08.921 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:08.921 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:51:08.921 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:51:09.057 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 136.7907ms
2025-02-05 16:51:09.057 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:51:09.060 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:09.061 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:51:09.061 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:51:09.180 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 122.5229ms
2025-02-05 16:51:09.323 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:51:09.323 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:09.325 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 2.0057ms
2025-02-05 16:51:09.458 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:51:09.460 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:09.461 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:51:09.461 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:51:09.467 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:51:09.469 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:51:09.472 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.548 +07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:51:09.568 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:51:09.569 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:51:09.572 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 110.6232ms
2025-02-05 16:51:09.572 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:51:09.572 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 113.5194ms
2025-02-05 16:51:09.587 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:51:09.588 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:09.588 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.5467ms
2025-02-05 16:51:09.593 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:51:09.594 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:09.594 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:51:09.594 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:51:09.697 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:51:09.697 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.701 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:51:09.701 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.701 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.702 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.702 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.702 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.704 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.704 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.705 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.705 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.705 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.705 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.706 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:09.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:51:09.749 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 154.7731ms
2025-02-05 16:51:09.749 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:51:09.749 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 155.868ms
2025-02-05 16:51:13.198 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:51:13.198 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:13.198 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:51:13.199 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:51:13.208 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 9.9037ms
2025-02-05 16:51:13.208 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:51:13.208 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:13.208 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:51:13.208 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:51:13.214 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 5.704ms
2025-02-05 16:51:13.525 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:51:13.525 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:13.525 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:51:13.525 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:51:13.590 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:51:13.591 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:51:13.591 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:51:13.618 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:51:13.639 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:51:13.639 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:51:13.644 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 118.7641ms
2025-02-05 16:51:13.644 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:51:13.644 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 119.3779ms
2025-02-05 16:51:14.085 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:51:14.085 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:14.086 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 1.4032ms
2025-02-05 16:51:14.659 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:51:14.660 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:51:14.660 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:51:14.660 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:51:14.662 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:51:14.662 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.663 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.663 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.663 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.663 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.665 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.665 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.666 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.666 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.666 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:51:14.667 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:51:14.667 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:51:14.746 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 85.7126ms
2025-02-05 16:51:14.746 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:51:14.746 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 86.8992ms
2025-02-05 16:53:45.765 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:53:45.765 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:53:45.881 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:53:45.881 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:53:45.959 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:53:45.959 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:53:45.961 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:53:45.961 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:53:45.969 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 224.5118ms
2025-02-05 16:53:45.969 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 224.7789ms
2025-02-05 16:53:46.369 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:53:46.370 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:53:46.370 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.0389ms
2025-02-05 16:53:46.376 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:53:46.376 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:53:46.379 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:53:46.392 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:53:46.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:53:46.500 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:53:46.507 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:53:46.541 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:53:46.586 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:53:46.589 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:53:46.591 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 198.199ms
2025-02-05 16:53:46.591 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:53:46.591 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 214.9473ms
2025-02-05 16:53:46.892 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:53:46.892 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:53:46.892 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.4648ms
2025-02-05 16:53:46.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:53:46.898 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:53:46.901 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:53:46.901 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:53:46.908 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:53:46.909 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.910 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.910 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.910 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.911 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.911 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.911 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.912 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.912 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.912 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.913 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.913 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.914 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.914 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.915 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:53:46.916 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:53:46.917 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:53:46.918 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 16.3174ms
2025-02-05 16:53:46.918 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:53:46.918 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 20.8175ms
2025-02-05 16:54:11.451 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:54:11.451 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:11.451 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:54:12.581 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:54:12.834 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:54:12.834 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:12.835 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:54:12.835 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:54:13.092 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 258.1276ms
2025-02-05 16:54:13.097 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 1646.8244ms
2025-02-05 16:54:13.818 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:54:13.819 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:13.820 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.7191ms
2025-02-05 16:54:13.824 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:54:13.824 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:13.824 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:54:13.824 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:54:13.830 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:54:13.831 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:54:13.831 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:13.900 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:54:13.958 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:54:13.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:54:13.960 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 135.2486ms
2025-02-05 16:54:13.960 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:54:13.960 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 135.8654ms
2025-02-05 16:54:13.989 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:54:13.989 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:13.991 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 1.5818ms
2025-02-05 16:54:14.003 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:54:14.003 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:14.004 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:54:14.005 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:54:14.054 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:54:14.055 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.069 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:54:14.070 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.071 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.072 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.072 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.072 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.073 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.073 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.074 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.074 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.075 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.075 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.075 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:14.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:54:14.102 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 96.8917ms
2025-02-05 16:54:14.102 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:54:14.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 99.5802ms
2025-02-05 16:54:15.821 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:54:15.821 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:15.837 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 15.8347ms
2025-02-05 16:54:15.842 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:54:15.843 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:15.843 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:54:15.843 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:54:15.848 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:54:15.848 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:15.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:54:15.849 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.857 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:54:15.857 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.858 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.858 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.858 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.859 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.859 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.859 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.860 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.861 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.862 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.863 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.864 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:15.864 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:54:16.033 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 189.8218ms
2025-02-05 16:54:16.033 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:54:16.033 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 190.7304ms
2025-02-05 16:54:16.121 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:54:16.121 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:54:16.124 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:54:16.124 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.133 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.133 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.190 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.191 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.191 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.191 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.192 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.192 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.192 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:16.196 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:16.196 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:54:16.276 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 155.026ms
2025-02-05 16:54:16.276 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:54:16.277 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 428.4637ms
2025-02-05 16:54:27.344 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:54:27.344 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:27.344 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:54:27.344 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:54:27.369 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 24.4972ms
2025-02-05 16:54:27.369 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:54:27.369 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:27.369 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:54:27.369 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:54:27.408 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 39.3914ms
2025-02-05 16:54:27.867 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:54:27.867 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:27.867 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4648ms
2025-02-05 16:54:28.072 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:54:28.072 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:28.072 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:54:28.072 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:54:28.073 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:54:28.074 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:54:28.074 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:54:28.100 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:54:28.125 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:54:28.125 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:54:28.133 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 60.7535ms
2025-02-05 16:54:28.133 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:54:28.133 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 61.3296ms
2025-02-05 16:54:28.158 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:54:28.158 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:28.164 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 5.2806ms
2025-02-05 16:54:28.171 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:54:28.171 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:54:28.194 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:54:28.195 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:54:28.199 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:54:28.199 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.201 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.201 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.202 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.202 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.202 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.203 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.203 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.203 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.204 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.204 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.204 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.206 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:54:28.206 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:54:28.206 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:54:28.206 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 11.8552ms
2025-02-05 16:54:28.207 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:54:28.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 35.444ms
2025-02-05 16:56:33.476 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:56:33.477 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:33.478 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:56:33.478 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:56:33.481 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 5.6403ms
2025-02-05 16:56:33.579 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:56:33.580 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:33.584 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 4.8261ms
2025-02-05 16:56:33.585 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:56:33.585 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:33.586 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:56:33.586 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:56:33.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:56:33.599 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:56:33.603 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.631 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:56:33.647 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:56:33.648 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:56:33.648 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 62.4773ms
2025-02-05 16:56:33.648 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:56:33.648 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 63.0853ms
2025-02-05 16:56:33.665 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:56:33.665 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:33.666 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.439ms
2025-02-05 16:56:33.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:56:33.673 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:33.674 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:56:33.674 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:56:33.678 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:56:33.679 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.679 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:56:33.679 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.680 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.681 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.682 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.682 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.684 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.685 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.685 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.686 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.686 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.687 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.688 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:33.688 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:56:33.689 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 15.2699ms
2025-02-05 16:56:33.689 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:56:33.690 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 16.9766ms
2025-02-05 16:56:38.994 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:56:38.994 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:38.994 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:56:38.994 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:56:39.332 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 338.1334ms
2025-02-05 16:56:39.528 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:56:39.529 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:39.529 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.1282ms
2025-02-05 16:56:39.726 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:56:39.726 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:39.745 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:56:39.745 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:56:39.747 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:56:39.783 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:56:39.784 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.806 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:56:39.821 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:56:39.821 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:56:39.822 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 76.4868ms
2025-02-05 16:56:39.822 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:56:39.822 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 96.5065ms
2025-02-05 16:56:39.837 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:56:39.837 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:39.837 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.4723ms
2025-02-05 16:56:39.843 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:56:39.844 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:39.844 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:56:39.844 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:56:39.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:56:39.851 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:56:39.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.855 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.855 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.856 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.857 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.857 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.858 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.859 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.860 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.862 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.863 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:56:39.863 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:56:39.863 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 19.3778ms
2025-02-05 16:56:39.863 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:56:39.864 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 20.1852ms
2025-02-05 16:56:44.556 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:56:44.558 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:44.558 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:56:44.559 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:56:44.557 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:56:44.566 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:56:44.567 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:56:44.567 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:56:44.570 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 13.6059ms
2025-02-05 16:56:44.570 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 13.2167ms
2025-02-05 16:58:10.155 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:10.155 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:10.155 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:10.155 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:10.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 5.2167ms
2025-02-05 16:58:10.170 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:10.171 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:10.171 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:10.171 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:10.171 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 0.9744ms
2025-02-05 16:58:12.056 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:58:12.056 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:12.057 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.519ms
2025-02-05 16:58:12.062 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:58:12.062 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:12.062 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:12.062 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:58:12.065 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:58:12.073 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:58:12.074 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:58:12.105 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:58:12.120 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:58:12.120 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:58:12.121 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 58.4564ms
2025-02-05 16:58:12.121 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:12.121 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 59.171ms
2025-02-05 16:58:12.184 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:12.184 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:12.192 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 7.7433ms
2025-02-05 16:58:12.197 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:12.197 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:12.198 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:12.198 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:58:12.202 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:58:12.202 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.203 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.204 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.204 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.207 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.208 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.210 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.210 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.211 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.211 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:12.212 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:12.212 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:58:12.213 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 15.1759ms
2025-02-05 16:58:12.213 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:12.213 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 16.1754ms
2025-02-05 16:58:19.822 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:19.822 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:19.822 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:19.822 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:19.823 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 1.2673ms
2025-02-05 16:58:19.835 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:19.835 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:19.835 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:19.835 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:19.836 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 0.9346ms
2025-02-05 16:58:20.475 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:58:20.475 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:20.476 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 1.1751ms
2025-02-05 16:58:20.482 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:58:20.482 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:20.482 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:20.483 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:58:20.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:58:20.485 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:58:20.486 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:58:20.512 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:58:20.530 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:58:20.531 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:58:20.531 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 48.8808ms
2025-02-05 16:58:20.532 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:20.532 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 49.6364ms
2025-02-05 16:58:21.213 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:58:21.213 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:21.214 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.4996ms
2025-02-05 16:58:21.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:21.219 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:21.228 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:21.228 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:21.229 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.4092ms
2025-02-05 16:58:21.234 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:21.234 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:21.234 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:21.234 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:58:21.235 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:58:21.235 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.236 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.237 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.237 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.237 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.238 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.238 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.239 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.239 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.239 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.240 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.240 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.241 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.241 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.241 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:21.242 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:21.242 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:58:21.242 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 8.1253ms
2025-02-05 16:58:21.242 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:21.243 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 9.055ms
2025-02-05 16:58:21.248 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-05 16:58:21.287 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-05 16:58:21.288 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:21.313 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:21.314 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 95.4502ms
2025-02-05 16:58:33.932 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:33.932 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:33.935 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:33.940 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:33.940 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:33.940 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:33.951 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:33.951 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:33.952 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 20.0805ms
2025-02-05 16:58:33.952 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 12.1322ms
2025-02-05 16:58:34.507 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:58:34.507 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:34.507 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.3977ms
2025-02-05 16:58:34.512 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:58:34.512 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:34.512 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:34.512 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:58:34.514 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:58:34.515 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:58:34.515 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:58:34.536 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:58:34.555 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:58:34.556 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:58:34.556 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 44.0651ms
2025-02-05 16:58:34.556 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:34.556 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 44.7037ms
2025-02-05 16:58:35.491 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:58:35.491 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:35.496 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 5.6017ms
2025-02-05 16:58:35.501 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:35.501 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:35.502 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-05 16:58:35.504 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-05 16:58:35.504 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:35.517 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:35.517 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:35.518 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.7239ms
2025-02-05 16:58:35.518 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:35.524 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 23.0112ms
2025-02-05 16:58:35.527 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:35.529 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:35.530 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:35.530 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:58:35.532 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:58:35.532 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.534 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.534 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.535 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.536 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.537 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.538 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.538 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.539 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.539 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.540 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.540 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.541 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.541 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.542 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:35.545 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:35.545 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:58:35.546 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 15.7399ms
2025-02-05 16:58:35.546 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:35.548 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 20.3948ms
2025-02-05 16:58:47.210 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:47.210 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:47.210 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:47.210 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:47.211 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 0.9209ms
2025-02-05 16:58:47.219 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:47.219 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:47.219 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:47.220 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:47.220 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 0.9419ms
2025-02-05 16:58:47.808 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:58:47.808 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:47.809 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4713ms
2025-02-05 16:58:47.813 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:58:47.813 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:47.813 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:47.814 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:58:47.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:58:47.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:58:47.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:58:47.878 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:58:47.897 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:58:47.897 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:58:47.898 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 84.1238ms
2025-02-05 16:58:47.898 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:58:47.898 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 84.7519ms
2025-02-05 16:58:48.474 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:58:48.474 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:48.474 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.6929ms
2025-02-05 16:58:48.480 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:58:48.480 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:48.480 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-05 16:58:48.480 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-05 16:58:48.480 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:58:48.480 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:58:48.481 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 1.5447ms
2025-02-05 16:58:48.512 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:48.512 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:48.513 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 1.0226ms
2025-02-05 16:58:48.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:58:48.521 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:58:48.521 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:48.521 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:58:48.523 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:58:48.523 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.524 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.524 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.525 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.525 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.525 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.526 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.526 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.526 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.527 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.528 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.529 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.529 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.530 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.530 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:58:48.531 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:58:48.531 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:58:48.532 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 10.1452ms
2025-02-05 16:58:48.532 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:58:48.532 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 11.1637ms
2025-02-05 16:59:08.612 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:59:08.613 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:08.613 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:59:08.613 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:59:08.922 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 309.7148ms
2025-02-05 16:59:08.922 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:59:08.923 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:08.923 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:59:08.923 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:59:09.061 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 138.1919ms
2025-02-05 16:59:09.381 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:59:09.381 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:09.381 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.687ms
2025-02-05 16:59:09.531 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:59:09.531 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:09.531 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:59:09.531 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:59:09.543 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:59:09.544 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:59:09.545 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.654 +07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:59:09.676 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:59:09.677 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:59:09.678 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 147.3529ms
2025-02-05 16:59:09.678 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:59:09.679 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 148.1924ms
2025-02-05 16:59:09.768 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:59:09.768 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:59:09.768 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:09.768 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:09.768 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.3459ms
2025-02-05 16:59:09.768 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.4732ms
2025-02-05 16:59:09.779 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:59:09.779 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:09.780 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-05 16:59:09.780 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-05 16:59:09.780 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:59:09.780 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:59:09.784 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 4.6104ms
2025-02-05 16:59:09.788 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:59:09.790 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:09.790 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:59:09.790 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 16:59:09.821 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:59:09.822 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.822 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 16:59:09.823 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.823 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.824 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.824 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.824 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.825 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.825 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.826 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.826 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.826 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.827 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.827 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:09.827 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:59:09.834 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 43.8243ms
2025-02-05 16:59:09.834 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 16:59:09.835 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 47.0772ms
2025-02-05 16:59:19.058 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:59:19.058 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:19.059 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:59:19.059 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:59:19.100 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 42.2388ms
2025-02-05 16:59:19.202 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:59:19.202 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:19.202 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:59:19.203 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:59:19.230 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 27.9479ms
2025-02-05 16:59:19.717 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 16:59:19.717 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:19.717 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.7113ms
2025-02-05 16:59:19.933 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 16:59:19.933 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:19.934 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:59:19.944 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 16:59:19.949 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 16:59:19.949 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 16:59:19.950 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 16:59:19.987 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 16:59:20.005 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 16:59:20.009 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 16:59:20.011 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 66.9532ms
2025-02-05 16:59:20.011 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 16:59:20.013 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 79.4106ms
2025-02-05 16:59:20.033 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 16:59:20.033 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:20.033 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 16:59:20.033 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:20.035 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 1.6865ms
2025-02-05 16:59:20.038 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 5.5971ms
2025-02-05 16:59:20.046 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 16:59:20.046 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:20.046 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 16:59:20.046 +07:00 [INF] CORS policy execution successful.
2025-02-05 16:59:20.047 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:59:20.047 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-02-05 16:59:20.047 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 16:59:20.048 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-02-05 16:59:20.048 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 16:59:20.048 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 16:59:20.048 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 16:59:20.049 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.050 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 4.1561ms
2025-02-05 16:59:20.055 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.055 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.057 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.057 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.058 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.058 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.058 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.058 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.059 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.059 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.059 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.060 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.061 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.061 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 16:59:20.062 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 16:59:20.062 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 16:59:20.070 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 22.3094ms
2025-02-05 16:59:20.070 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 16:59:20.070 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 24.2939ms
2025-02-05 17:00:30.230 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:30.230 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:30.230 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:30.230 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:30.534 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 304.8321ms
2025-02-05 17:00:30.535 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:30.535 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:30.535 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:30.536 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:30.663 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 128.3577ms
2025-02-05 17:00:31.017 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:00:31.017 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:31.018 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.5156ms
2025-02-05 17:00:31.482 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:00:31.482 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:31.482 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:31.482 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:00:31.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:31.484 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:00:31.704 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:31.726 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:00:31.747 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:00:31.748 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:31.863 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 381.3144ms
2025-02-05 17:00:31.863 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:31.864 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 381.9824ms
2025-02-05 17:00:31.917 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:31.917 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:31.923 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 5.6155ms
2025-02-05 17:00:31.923 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:00:31.923 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:31.923 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.4091ms
2025-02-05 17:00:31.932 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:31.933 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:31.933 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:00:31.933 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 17:00:31.934 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 17:00:31.934 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.935 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.935 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.935 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.935 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.936 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.936 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.936 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.937 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.938 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.938 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.938 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.938 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.939 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.939 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:31.939 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:31.939 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 17:00:31.947 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 14.0142ms
2025-02-05 17:00:31.947 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:00:31.948 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 15.4058ms
2025-02-05 17:00:31.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:31.949 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:31.951 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:31.951 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:00:31.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:31.988 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:31.990 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:00:31.990 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:31.993 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:31.994 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:31.997 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:31.999 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.000 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.004 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.006 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.015 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.015 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:32.015 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:32.104 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 152.389ms
2025-02-05 17:00:32.104 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:32.104 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 155.8571ms
2025-02-05 17:00:37.749 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:37.749 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:37.750 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:37.750 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:37.752 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 2.8145ms
2025-02-05 17:00:37.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:37.753 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:37.753 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:37.753 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:37.756 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 3.2237ms
2025-02-05 17:00:38.644 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:00:38.644 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:38.644 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.5334ms
2025-02-05 17:00:38.872 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:00:38.872 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:38.872 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:38.872 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:00:38.884 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:38.884 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:00:38.886 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:38.901 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:00:38.941 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:00:38.942 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:38.991 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 118.2392ms
2025-02-05 17:00:38.991 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:39.002 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 129.7635ms
2025-02-05 17:00:39.141 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:39.141 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:39.141 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.5089ms
2025-02-05 17:00:39.174 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:00:39.174 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:39.182 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 8.5405ms
2025-02-05 17:00:39.186 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:39.186 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:39.187 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:00:39.187 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 17:00:39.188 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 17:00:39.188 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.189 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.189 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.189 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.190 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.190 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.190 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.191 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.192 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:39.192 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:39.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.195 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:39.195 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:00:39.195 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.195 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.195 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:39.196 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:39.196 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 17:00:39.196 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 9.5539ms
2025-02-05 17:00:39.197 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:00:39.197 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:39.197 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 10.7945ms
2025-02-05 17:00:39.198 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.199 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:00:39.199 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.200 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.200 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.201 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.201 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.202 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.203 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.203 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.204 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.205 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:39.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:39.206 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 11.7242ms
2025-02-05 17:00:39.206 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:39.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 14.4367ms
2025-02-05 17:00:52.492 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:52.492 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:52.492 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:52.492 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:52.596 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 104.2778ms
2025-02-05 17:00:52.596 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:52.596 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:52.596 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:52.596 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:52.606 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 10.0816ms
2025-02-05 17:00:52.933 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:00:52.933 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:52.933 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4901ms
2025-02-05 17:00:53.062 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:00:53.062 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:53.062 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:53.062 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:00:53.066 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:53.068 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:00:53.070 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.087 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:00:53.109 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:00:53.110 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:53.112 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 49.321ms
2025-02-05 17:00:53.112 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:53.112 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 49.9507ms
2025-02-05 17:00:53.281 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:53.281 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:53.284 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 3.6432ms
2025-02-05 17:00:53.285 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:00:53.286 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:53.287 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 2.2521ms
2025-02-05 17:00:53.307 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:00:53.307 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:53.308 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:00:53.308 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 17:00:53.310 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 17:00:53.310 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.310 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.311 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:53.311 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:53.311 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.311 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:53.311 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:00:53.311 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.312 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.313 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.314 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.316 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.316 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.316 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.317 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.317 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.317 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.318 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.318 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:00:53.320 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:00:53.320 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 17:00:53.321 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 12.2146ms
2025-02-05 17:00:53.321 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:00:53.321 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 14.0817ms
2025-02-05 17:00:53.397 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:53.398 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.399 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:00:53.400 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.400 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.400 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.401 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.401 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.401 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.401 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.402 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.403 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.403 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.404 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.404 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:53.404 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:53.405 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 93.7706ms
2025-02-05 17:00:53.405 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:53.405 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 94.5038ms
2025-02-05 17:00:57.022 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:57.023 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:57.023 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:00:57.023 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:00:57.025 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 2.2579ms
2025-02-05 17:00:57.102 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:00:57.103 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:57.104 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:57.105 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:00:57.106 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:57.114 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:00:57.114 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.134 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:00:57.158 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:00:57.160 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:57.162 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 57.0551ms
2025-02-05 17:00:57.162 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:00:57.162 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 59.5532ms
2025-02-05 17:00:57.179 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:00:57.179 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:00:57.180 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:57.181 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:00:57.186 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:00:57.190 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.191 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:00:57.192 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.192 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.193 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.194 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.195 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.195 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.195 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.196 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.196 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.197 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:00:57.198 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:00:57.199 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 18.5585ms
2025-02-05 17:00:57.199 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:00:57.200 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 21.0715ms
2025-02-05 17:01:04.040 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:01:04.040 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.040 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:01:04.041 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:01:04.043 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 2.815ms
2025-02-05 17:01:04.043 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:01:04.045 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.045 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:01:04.045 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:01:04.046 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 3.7899ms
2025-02-05 17:01:04.190 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:01:04.190 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.199 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 9.2663ms
2025-02-05 17:01:04.213 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:01:04.213 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.213 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:01:04.213 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:01:04.214 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:01:04.215 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:01:04.215 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.238 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:01:04.274 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:01:04.275 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:01:04.281 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 67.4858ms
2025-02-05 17:01:04.281 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:01:04.314 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 101.5187ms
2025-02-05 17:01:04.318 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:01:04.318 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.323 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 5.1696ms
2025-02-05 17:01:04.324 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 17:01:04.324 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.324 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.5408ms
2025-02-05 17:01:04.331 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:01:04.331 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.332 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:01:04.332 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:01:04.340 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:01:04.340 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:01:04.343 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:01:04.344 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.344 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:01:04.345 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.345 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.345 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.345 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.346 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.346 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.347 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.348 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.348 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.349 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.349 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.352 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:01:04.352 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:01:04.353 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:01:04.353 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 17:01:04.354 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 17:01:04.354 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.355 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 22.9387ms
2025-02-05 17:01:04.355 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:01:04.356 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 24.312ms
2025-02-05 17:01:04.356 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.357 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.357 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.357 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.358 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.358 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.358 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.359 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.360 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.361 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.361 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.362 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.362 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.363 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:01:04.363 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:01:04.364 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 17:01:04.365 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 11.6909ms
2025-02-05 17:01:04.365 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:01:04.365 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 24.8632ms
2025-02-05 17:03:41.241 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:03:41.242 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:03:41.242 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:03:41.242 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:03:41.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 19.4384ms
2025-02-05 17:03:41.261 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:03:41.261 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:03:41.262 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:03:41.262 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:03:41.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 11.3228ms
2025-02-05 17:03:41.910 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:03:41.910 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:03:41.911 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4177ms
2025-02-05 17:03:42.145 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:03:42.195 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:03:42.196 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:03:42.235 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:03:42.245 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:03:42.246 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:03:42.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:03:42.328 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 92.4131ms
2025-02-05 17:03:42.328 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:03:42.328 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 183.462ms
2025-02-05 17:04:36.408 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 17:04:36.408 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:36.409 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 0.8367ms
2025-02-05 17:04:36.574 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 17:04:36.574 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:36.574 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:04:36.575 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:04:36.789 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 17:04:37.120 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:37.143 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:04:37.143 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:04:37.145 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 569.6079ms
2025-02-05 17:04:37.145 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:04:37.145 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 571.6014ms
2025-02-05 17:04:42.252 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:04:42.252 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:42.252 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:04:42.252 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:04:42.253 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 0.9881ms
2025-02-05 17:04:42.364 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:04:42.364 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:42.370 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 5.3723ms
2025-02-05 17:04:42.375 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:04:42.375 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:42.375 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:04:42.376 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:04:42.377 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:04:42.378 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:04:42.380 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.401 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:04:42.422 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:04:42.422 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:04:42.423 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 47.6095ms
2025-02-05 17:04:42.423 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:04:42.424 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 48.6273ms
2025-02-05 17:04:42.445 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:04:42.445 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:42.450 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 4.6979ms
2025-02-05 17:04:42.470 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:04:42.470 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:04:42.483 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:04:42.483 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:04:42.487 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:04:42.488 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.488 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:04:42.489 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.489 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.490 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.491 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.491 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.492 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.492 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.495 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.496 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.496 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.497 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.498 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:04:42.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:04:42.499 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 16.1443ms
2025-02-05 17:04:42.499 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:04:42.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 30.0499ms
2025-02-05 17:05:08.869 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:05:08.869 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:05:08.870 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:05:08.870 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:05:09.027 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 158.2676ms
2025-02-05 17:05:09.547 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:05:09.547 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:05:09.547 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.4314ms
2025-02-05 17:05:09.588 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:05:09.589 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:05:09.590 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:05:09.590 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:05:09.593 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:05:09.593 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:05:09.595 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:05:09.646 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 56.4638ms
2025-02-05 17:05:09.646 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:05:09.771 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 182.8796ms
2025-02-05 17:07:10.108 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 17:07:10.110 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:07:10.111 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 3.0654ms
2025-02-05 17:07:10.117 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 17:07:10.117 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:07:10.117 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:07:10.118 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:07:10.150 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 17:07:10.329 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:07:10.353 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:07:10.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:07:10.354 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 233.5972ms
2025-02-05 17:07:10.355 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:07:10.355 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 237.5058ms
2025-02-05 17:07:44.507 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:07:44.507 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:07:44.507 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:07:44.507 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:07:44.509 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 1.3419ms
2025-02-05 17:07:44.590 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:07:44.591 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:07:44.594 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 3.6436ms
2025-02-05 17:07:44.668 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:07:44.668 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:07:44.668 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:07:44.668 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:07:44.681 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:07:44.682 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:07:44.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:07:44.710 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 41.7163ms
2025-02-05 17:07:44.710 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:07:44.711 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 42.4055ms
2025-02-05 17:12:25.455 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 17:12:25.590 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:25.637 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 249.5783ms
2025-02-05 17:12:25.643 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 17:12:25.647 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:25.664 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:12:25.690 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:12:26.107 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 17:12:26.453 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:26.558 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:12:26.563 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:12:26.574 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 882.4815ms
2025-02-05 17:12:26.575 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:12:26.575 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 933.1346ms
2025-02-05 17:12:30.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:12:30.667 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:30.671 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:12:30.672 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:12:30.675 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 12.2173ms
2025-02-05 17:12:30.700 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:12:30.700 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:30.701 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 0.7324ms
2025-02-05 17:12:30.707 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:12:30.707 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:30.707 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:12:30.707 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:12:30.754 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:12:30.767 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:12:30.774 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.827 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:12:30.893 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:12:30.893 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:12:30.893 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 185.7646ms
2025-02-05 17:12:30.893 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:12:30.893 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 186.2407ms
2025-02-05 17:12:30.901 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:12:30.901 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:30.902 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.3009ms
2025-02-05 17:12:30.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:12:30.907 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:30.930 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:12:30.930 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:12:30.957 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:12:30.958 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.969 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:12:30.971 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.975 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.976 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.976 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.977 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.977 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:30.977 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:12:30.982 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 52.2847ms
2025-02-05 17:12:30.982 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:12:30.983 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 75.857ms
2025-02-05 17:12:35.350 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:12:35.350 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:35.350 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:12:35.350 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:12:35.361 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 10.926ms
2025-02-05 17:12:35.362 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:12:35.364 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:35.365 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:12:35.365 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:12:35.377 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 401 null null 14.565ms
2025-02-05 17:12:35.377 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:12:35.377 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:35.377 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:12:35.377 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:12:35.380 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:12:35.382 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:12:35.382 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.523 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:12:35.557 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:12:35.558 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:12:35.558 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 180.8081ms
2025-02-05 17:12:35.558 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:12:35.559 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 181.3662ms
2025-02-05 17:12:35.568 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:12:35.568 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:35.568 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - null null
2025-02-05 17:12:35.568 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:35.568 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:12:35.568 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:12:35.568 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/roles/roles - 204 null null 0.2494ms
2025-02-05 17:12:35.570 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:12:35.574 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.575 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:12:35.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/roles/roles - null null
2025-02-05 17:12:35.575 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:35.575 +07:00 [INF] Executing endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:12:35.575 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.576 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.576 +07:00 [INF] Route matched with {action = "GetAllRole", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRole() on controller API.Controllers.RolesController (API).
2025-02-05 17:12:35.576 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.577 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.577 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.577 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.577 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.577 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.578 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.578 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.578 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.578 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:12:35.578 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:12:35.579 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 10.5508ms
2025-02-05 17:12:35.579 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:12:35.579 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 11.1761ms
2025-02-05 17:12:35.580 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Name"
FROM "AspNetRoles" AS "a"
2025-02-05 17:12:35.586 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.596 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.598 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.598 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.598 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.600 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.601 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.601 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.601 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.601 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.601 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.602 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.602 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.602 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.602 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-02-05 17:12:35.602 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__role_Id_0='?' (Size = 1)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Id", "a0"."AccessFailedCount", "a0"."Address", "a0"."Avatar", "a0"."ConcurrencyStamp", "a0"."Email", "a0"."EmailConfirmed", "a0"."FlagActive", "a0"."FullName", "a0"."LockoutEnabled", "a0"."LockoutEnd", "a0"."NormalizedEmail", "a0"."NormalizedUserName", "a0"."PasswordHash", "a0"."PhoneNumber", "a0"."PhoneNumberConfirmed", "a0"."SecurityStamp", "a0"."TwoFactorEnabled", "a0"."UserName"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetUsers" AS "a0" ON "a"."UserId" = "a0"."Id"
WHERE "a"."RoleId" = @__role_Id_0
2025-02-05 17:12:35.603 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[API.Dtos.RoleResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-05 17:12:35.604 +07:00 [INF] Executed action API.Controllers.RolesController.GetAllRole (API) in 27.61ms
2025-02-05 17:12:35.604 +07:00 [INF] Executed endpoint 'API.Controllers.RolesController.GetAllRole (API)'
2025-02-05 17:12:35.605 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/roles/roles - 200 null application/json; charset=utf-8 29.4727ms
2025-02-05 17:12:41.795 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:12:41.815 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:12:41.816 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:12:41.958 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:12:43.267 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:12:43.345 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 1387.2394ms
2025-02-05 17:12:43.346 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:12:43.346 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 1551.0439ms
2025-02-05 17:13:03.659 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:13:03.667 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:03.667 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:13:03.667 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:13:04.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:13:04.612 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 945.008ms
2025-02-05 17:13:04.612 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:13:04.612 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 952.7062ms
2025-02-05 17:13:51.754 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - null null
2025-02-05 17:13:51.754 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:51.759 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/login - 204 null null 5.4275ms
2025-02-05 17:13:51.765 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/login - application/json 47
2025-02-05 17:13:51.766 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:51.766 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:13:51.766 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] Login(API.Dtos.LoginDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:13:51.767 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-02-05 17:13:51.918 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:13:51.956 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:13:51.956 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:13:51.957 +07:00 [INF] Executed action API.Controllers.AccountController.Login (API) in 190.9848ms
2025-02-05 17:13:51.957 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.Login (API)'
2025-02-05 17:13:51.957 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/login - 200 null application/json; charset=utf-8 191.8522ms
2025-02-05 17:13:53.602 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/news/search?pageIndex=0&pageSize=100&keyword=&userid=&categoryid= - null null
2025-02-05 17:13:53.709 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:53.710 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/news/search?pageIndex=0&pageSize=100&keyword=&userid=&categoryid= - 204 null null 108.12ms
2025-02-05 17:13:53.711 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/hashtagnews/gettophashtag - null null
2025-02-05 17:13:53.724 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/news/search?pageIndex=0&pageSize=10&keyword=&userid=&categoryid= - null null
2025-02-05 17:13:53.733 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:53.759 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/news/search?pageIndex=0&pageSize=10&keyword=&userid=&categoryid= - 204 null null 34.1563ms
2025-02-05 17:13:53.760 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/news/search?pageIndex=0&pageSize=10&keyword=&userid=&categoryid= - null null
2025-02-05 17:13:53.769 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:53.771 +07:00 [INF] Executing endpoint 'API.Controllers.NewsController.Search (API)'
2025-02-05 17:13:53.785 +07:00 [INF] Route matched with {action = "Search", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.RPNewsDto]] Search(Int32, Int32, System.String, System.String, System.String) on controller API.Controllers.NewsController (API).
2025-02-05 17:13:53.790 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/news/search?pageIndex=0&pageSize=100&keyword=&userid=&categoryid= - null null
2025-02-05 17:13:53.790 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:53.794 +07:00 [INF] Executing endpoint 'API.Controllers.NewsController.Search (API)'
2025-02-05 17:13:53.803 +07:00 [INF] Route matched with {action = "Search", controller = "News"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.RPNewsDto]] Search(Int32, Int32, System.String, System.String, System.String) on controller API.Controllers.NewsController (API).
2025-02-05 17:13:53.809 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:53.810 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/hashtagnews/gettophashtag - 204 null null 99.3598ms
2025-02-05 17:13:53.826 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/hashtagnews/gettophashtag - null null
2025-02-05 17:13:53.826 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:13:53.826 +07:00 [INF] Executing endpoint 'API.Controllers.HashTagNewsController.GetTopHashTag (API)'
2025-02-05 17:13:53.836 +07:00 [INF] Route matched with {action = "GetTopHashTag", controller = "HashTagNews"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.HashTagNewsModel]] GetTopHashTag() on controller API.Controllers.HashTagNewsController (API).
2025-02-05 17:13:54.095 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."HashTagNewsName", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
ORDER BY "h"."Count" DESC
LIMIT @__p_0
2025-02-05 17:13:54.102 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.HashTagNewsModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:13:54.116 +07:00 [INF] Executed action API.Controllers.HashTagNewsController.GetTopHashTag (API) in 279.835ms
2025-02-05 17:13:54.116 +07:00 [INF] Executed endpoint 'API.Controllers.HashTagNewsController.GetTopHashTag (API)'
2025-02-05 17:13:54.116 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/hashtagnews/gettophashtag - 200 null application/json; charset=utf-8 290.8264ms
2025-02-05 17:13:54.184 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsId", "n"."AvgPoint", "n"."CategoryNewsId", "n"."ContentBody", "n"."CreatedDTime", "n"."FlagActive", "n"."LikeCount", "n"."ShareCount", "n"."ShortDescription", "n"."ShortTitle", "n"."Slug", "n"."Thumbnail", "n"."UpdatedDTime", "n"."UserId", "n"."ViewCount"
FROM "News" AS "n"
2025-02-05 17:13:54.184 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsId", "n"."AvgPoint", "n"."CategoryNewsId", "n"."ContentBody", "n"."CreatedDTime", "n"."FlagActive", "n"."LikeCount", "n"."ShareCount", "n"."ShortDescription", "n"."ShortTitle", "n"."Slug", "n"."Thumbnail", "n"."UpdatedDTime", "n"."UserId", "n"."ViewCount"
FROM "News" AS "n"
2025-02-05 17:13:54.583 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsId", "n"."AvgPoint", "n"."CategoryNewsId", "n"."ContentBody", "n"."CreatedDTime", "n"."FlagActive", "n"."LikeCount", "n"."ShareCount", "n"."ShortDescription", "n"."ShortTitle", "n"."Slug", "n"."Thumbnail", "n"."UpdatedDTime", "n"."UserId", "n"."ViewCount"
FROM "News" AS "n"
ORDER BY "n"."CreatedDTime" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-02-05 17:13:54.583 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsId", "n"."AvgPoint", "n"."CategoryNewsId", "n"."ContentBody", "n"."CreatedDTime", "n"."FlagActive", "n"."LikeCount", "n"."ShareCount", "n"."ShortDescription", "n"."ShortTitle", "n"."Slug", "n"."Thumbnail", "n"."UpdatedDTime", "n"."UserId", "n"."ViewCount"
FROM "News" AS "n"
ORDER BY "n"."CreatedDTime" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-02-05 17:13:54.606 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.606 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.664 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.664 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.700 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.700 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.763 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.763 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.774 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.774 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.784 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.784 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.789 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.790 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.790 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.790 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.790 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.790 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.791 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.791 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.791 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.791 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.791 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.792 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.792 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.793 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.795 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.795 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.797 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.798 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.844 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.846 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.846 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.847 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.848 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.849 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.849 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.850 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.851 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.851 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.851 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.851 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.851 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.852 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 23)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.853 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.854 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.855 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.856 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.861 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.861 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.862 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.862 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.862 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.862 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.863 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.865 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.865 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.866 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.866 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.866 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.866 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 17)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.867 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.867 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.867 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.867 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.869 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.870 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.871 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.RPNewsDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:13:54.873 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.873 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.874 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.874 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.875 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.875 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.875 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.876 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.877 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.878 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.878 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.878 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.880 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.882 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.882 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.883 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.883 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.883 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.883 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.884 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.884 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.884 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.961 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.961 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.963 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.964 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.964 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 25)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.964 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.964 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.965 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.966 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.966 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.966 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.966 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.967 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.967 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.967 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.968 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.969 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:13:54.970 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.971 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.971 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.972 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.973 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.974 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 29)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.975 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.975 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.976 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.976 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.977 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 45)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.977 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:54.977 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.978 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.980 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:54.984 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.006 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:55.006 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.007 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_CategoryNewsId_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."NewsCategoryId", "n"."CreatedDTime", "n"."FlagActive", "n"."NewsCategoryIndex", "n"."NewsCategoryName", "n"."NewsCategoryParentId", "n"."UpdatedDTime"
FROM "NewsCategory" AS "n"
WHERE "n"."NewsCategoryId" = @__objNews_CategoryNewsId_0
LIMIT 1
2025-02-05 17:13:55.008 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "h"."HashTagNewsId", "h"."NewsId", "h"."Count", "h"."CreatedDTime", "h"."FlagActive", "h"."HashTagNewsName", "h"."UpdatedDTime"
FROM "HashTagNews" AS "h"
WHERE "h"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.008 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefFileNewsId", "r"."CreatedDTime", "r"."FileUrl", "r"."FlagActive", "r"."NewsId", "r"."UpdatedDTime"
FROM "RefFileNews" AS "r"
WHERE "r"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.008 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."NewsId", "p"."UserId", "p"."CreatedDTime", "p"."FlagActive", "p"."Point", "p"."UpdatedDTime"
FROM "PointNews" AS "p"
WHERE "p"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.008 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__objNews_NewsId_0='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LikeNewsId", "l"."CreatedDTime", "l"."NewsId", "l"."UpdatedDTime", "l"."UserId"
FROM "LikeNews" AS "l"
WHERE "l"."NewsId" = @__objNews_NewsId_0
2025-02-05 17:13:55.008 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.RPNewsDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:13:55.103 +07:00 [INF] Executed action API.Controllers.NewsController.Search (API) in 1318.0493ms
2025-02-05 17:13:55.103 +07:00 [INF] Executed endpoint 'API.Controllers.NewsController.Search (API)'
2025-02-05 17:13:55.104 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/news/search?pageIndex=0&pageSize=10&keyword=&userid=&categoryid= - 200 null application/json; charset=utf-8 1343.2671ms
2025-02-05 17:13:55.105 +07:00 [INF] Executed action API.Controllers.NewsController.Search (API) in 1302.6445ms
2025-02-05 17:13:55.106 +07:00 [INF] Executed endpoint 'API.Controllers.NewsController.Search (API)'
2025-02-05 17:13:55.106 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/news/search?pageIndex=0&pageSize=100&keyword=&userid=&categoryid= - 200 null application/json; charset=utf-8 1317.321ms
2025-02-05 17:14:07.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:14:07.523 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:07.528 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:14:07.528 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:14:07.540 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 19.6696ms
2025-02-05 17:14:07.769 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:14:07.769 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:07.771 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 2.296ms
2025-02-05 17:14:07.778 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:14:07.779 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:07.779 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:14:07.780 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:14:07.787 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:14:07.810 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:14:07.811 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:07.865 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:14:07.897 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:14:07.897 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:14:07.908 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 127.5856ms
2025-02-05 17:14:07.908 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:14:07.908 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 130.2947ms
2025-02-05 17:14:08.623 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:14:08.624 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:08.625 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 1.7633ms
2025-02-05 17:14:08.942 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:14:08.942 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:08.943 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:14:08.943 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:14:08.946 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:14:08.947 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.947 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:14:08.947 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.948 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.948 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.948 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.948 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.949 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.949 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.952 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.953 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.953 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.954 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.954 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:14:08.954 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:14:09.089 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 145.9058ms
2025-02-05 17:14:09.089 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:14:09.089 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 147.1095ms
2025-02-05 17:14:14.661 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:14:14.661 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:14.661 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:14:14.661 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:14:14.860 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:14:14.903 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 242.1213ms
2025-02-05 17:14:14.904 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:14:14.905 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 244.5031ms
2025-02-05 17:14:20.641 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:14:20.641 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:14:20.641 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:14:20.641 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:14:21.586 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:14:21.591 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 949.8447ms
2025-02-05 17:14:21.591 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:14:21.591 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 950.3878ms
2025-02-05 17:15:24.070 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/ExportExcel - null null
2025-02-05 17:15:24.071 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:15:24.071 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.ExportExcel (API)'
2025-02-05 17:15:24.081 +07:00 [INF] Route matched with {action = "ExportExcel", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportExcel() on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:15:26.226 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."ProvinceCode", "m"."ProvinceName", "m"."FlagActive"
FROM "MstProvinces" AS "m"
2025-02-05 17:15:28.293 +07:00 [INF] Executing FileContentResult, sending file with download name 'Mst_Province_Data.xlsx' ...
2025-02-05 17:15:28.354 +07:00 [INF] Executed action API.Controllers.MstProvinceController.ExportExcel (API) in 4272.5358ms
2025-02-05 17:15:28.354 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.ExportExcel (API)'
2025-02-05 17:15:28.354 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/ExportExcel - 200 7369 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 4283.7993ms
2025-02-05 17:15:58.970 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:15:58.970 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:15:58.970 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:15:58.970 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:16:00.934 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:16:00.937 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 1966.221ms
2025-02-05 17:16:00.938 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:16:00.938 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 1968.4245ms
2025-02-05 17:16:06.284 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:16:06.284 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:06.284 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-02-05 17:16:06.284 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:16:06.288 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 401 null null 2.4067ms
2025-02-05 17:16:06.361 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:16:06.362 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:06.366 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 4.7867ms
2025-02-05 17:16:06.383 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:16:06.384 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:06.384 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:16:06.384 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:16:06.386 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:16:06.391 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:16:06.392 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.421 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:16:06.453 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:16:06.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:16:06.454 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 70.5927ms
2025-02-05 17:16:06.454 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:16:06.455 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 71.458ms
2025-02-05 17:16:06.474 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - null null
2025-02-05 17:16:06.474 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:06.474 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/users - 204 null null 0.4845ms
2025-02-05 17:16:06.481 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/account/users - null null
2025-02-05 17:16:06.481 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:06.481 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:16:06.481 +07:00 [INF] Route matched with {action = "GetAllUser", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.UserDetailDto]] GetAllUser() on controller API.Controllers.AccountController (API).
2025-02-05 17:16:06.494 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:16:06.496 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.497 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Email", "a"."FullName", "a"."Avatar", "a"."FlagActive", "a"."AccessFailedCount", "a"."Address", "a"."ConcurrencyStamp", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
2025-02-05 17:16:06.497 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.498 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.498 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.499 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.499 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.500 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.500 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.500 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.501 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.501 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.501 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.502 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:16:06.502 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.UserDetailDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:16:06.516 +07:00 [INF] Executed action API.Controllers.AccountController.GetAllUser (API) in 34.3135ms
2025-02-05 17:16:06.516 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetAllUser (API)'
2025-02-05 17:16:06.516 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/account/users - 200 null application/json; charset=utf-8 35.4152ms
2025-02-05 17:16:12.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:16:12.343 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:12.343 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:16:12.343 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:16:12.437 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:16:12.496 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 153.0233ms
2025-02-05 17:16:12.496 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:16:12.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 153.8278ms
2025-02-05 17:16:17.987 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/ExportExcel - null null
2025-02-05 17:16:17.987 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:17.987 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.ExportExcel (API)'
2025-02-05 17:16:17.987 +07:00 [INF] Route matched with {action = "ExportExcel", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportExcel() on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:16:17.990 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."ProvinceCode", "m"."ProvinceName", "m"."FlagActive"
FROM "MstProvinces" AS "m"
2025-02-05 17:16:18.015 +07:00 [INF] Executing FileContentResult, sending file with download name 'Mst_Province_Data.xlsx' ...
2025-02-05 17:16:18.017 +07:00 [INF] Executed action API.Controllers.MstProvinceController.ExportExcel (API) in 29.931ms
2025-02-05 17:16:18.018 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.ExportExcel (API)'
2025-02-05 17:16:18.018 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/ExportExcel - 200 7369 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 30.5011ms
2025-02-05 17:16:32.430 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MstProvince/Create - null null
2025-02-05 17:16:32.430 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:32.431 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MstProvince/Create - 204 null null 0.688ms
2025-02-05 17:16:32.435 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/MstProvince/Create - application/json 64
2025-02-05 17:16:32.435 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:16:32.436 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Create (API)'
2025-02-05 17:16:32.456 +07:00 [INF] Route matched with {action = "Create", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(API.Models.MstProvinceModel) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:16:32.627 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:16:32.682 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Create (API) in 225.4485ms
2025-02-05 17:16:32.682 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Create (API)'
2025-02-05 17:16:32.682 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/MstProvince/Create - 200 null application/json; charset=utf-8 246.908ms
2025-02-05 17:23:17.196 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:23:17.513 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:23:17.621 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:23:17.668 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:23:19.237 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:23:19.464 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 1777.5955ms
2025-02-05 17:23:19.471 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:23:19.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 2356.3526ms
2025-02-05 17:24:18.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:24:18.783 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:24:18.783 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:24:18.783 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:24:19.438 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:24:19.442 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 657.9783ms
2025-02-05 17:24:19.442 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:24:19.442 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 658.8449ms
2025-02-05 17:24:26.862 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:24:26.883 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:24:26.883 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:24:26.883 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:24:27.473 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:24:27.530 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 646.9943ms
2025-02-05 17:24:27.530 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:24:27.530 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 668.3402ms
2025-02-05 17:29:09.363 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:29:09.411 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:29:09.424 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:29:09.429 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:29:09.808 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:29:09.849 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 415.6916ms
2025-02-05 17:29:09.849 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:29:09.849 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 503.2633ms
2025-02-05 17:32:49.689 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-05 17:32:50.046 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-05 17:32:50.046 +07:00 [INF] Hosting environment: Development
2025-02-05 17:32:50.047 +07:00 [INF] Content root path: D:\MyHomeWork\ang_net\API
2025-02-05 17:32:50.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger/index.html - null null
2025-02-05 17:32:50.173 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:32:50.260 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:32:50.479 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-05 17:32:50.485 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-05 17:32:50.526 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 401 null null 361.3289ms
2025-02-05 17:32:50.556 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - null null
2025-02-05 17:32:50.559 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:32:50.561 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/account/refreshtoken - 204 null null 5.1199ms
2025-02-05 17:32:50.581 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - application/json 103
2025-02-05 17:32:50.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger/index.html - 200 null text/html;charset=utf-8 418.2985ms
2025-02-05 17:32:50.586 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:32:50.607 +07:00 [INF] Executing endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:32:50.690 +07:00 [INF] Route matched with {action = "RefreshToken", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Dtos.AuthResponseDto]] RefreshToken(API.Dtos.RefreshTokenDto) on controller API.Controllers.AccountController (API).
2025-02-05 17:32:50.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/_framework/aspnetcore-browser-refresh.js - null null
2025-02-05 17:32:50.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 4.6956ms
2025-02-05 17:32:51.150 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/_vs/browserLink - null null
2025-02-05 17:32:51.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.5459ms
2025-02-05 17:32:51.812 +07:00 [INF] Request starting HTTP/2 GET https://localhost:44398/swagger/v1/swagger.json - null null
2025-02-05 17:32:52.058 +07:00 [INF] Request finished HTTP/2 GET https://localhost:44398/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 245.6196ms
2025-02-05 17:32:53.083 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."Address", "a"."Avatar", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."FlagActive", "a"."FullName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-02-05 17:32:53.252 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."RefreshToken", "r"."ExpiryDate", "r"."IsRevoked", "r"."UserId"
FROM "RefreshTokens" AS "r"
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
LIMIT 1
2025-02-05 17:32:53.349 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
2025-02-05 17:32:53.497 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__refreshToken_0='?' (Size = 36), @__userId_1='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" AS "r"
SET "IsRevoked" = 1
WHERE "r"."RefreshToken" = @__refreshToken_0 AND "r"."UserId" = @__userId_1
2025-02-05 17:32:53.621 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 36), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("RefreshToken", "ExpiryDate", "IsRevoked", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-02-05 17:32:53.637 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Dtos.AuthResponseDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:32:53.658 +07:00 [INF] Executed action API.Controllers.AccountController.RefreshToken (API) in 2959.7765ms
2025-02-05 17:32:53.658 +07:00 [INF] Executed endpoint 'API.Controllers.AccountController.RefreshToken (API)'
2025-02-05 17:32:53.673 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:32:53.675 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:32:53.676 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 204 null null 2.6583ms
2025-02-05 17:32:53.676 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/account/refreshtoken - 200 null application/json; charset=utf-8 3094.5446ms
2025-02-05 17:32:53.682 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - null null
2025-02-05 17:32:53.682 +07:00 [INF] CORS policy execution successful.
2025-02-05 17:32:53.766 +07:00 [INF] Executing endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:32:53.774 +07:00 [INF] Route matched with {action = "Search", controller = "MstProvince"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API.Models.MstProvinceModel]] Search(Int32, Int32, System.String) on controller API.Controllers.MstProvinceController (API).
2025-02-05 17:32:53.895 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."ProvinceCode", "m"."CreatedDTime", "m"."FlagActive", "m"."ProvinceName", "m"."UpdatedDTime"
FROM "MstProvinces" AS "m"
2025-02-05 17:32:53.915 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-05 17:32:53.915 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-05 17:32:53.924 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."ProvinceCode", "m"."CreatedDTime", "m"."FlagActive", "m"."ProvinceName", "m"."UpdatedDTime"
FROM "MstProvinces" AS "m"
LIMIT @__p_1 OFFSET @__p_0
2025-02-05 17:32:53.926 +07:00 [INF] Executing OkObjectResult, writing value of type 'API.Dtos.ApiResponse`1[[API.Models.MstProvinceModel, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-05 17:32:53.933 +07:00 [INF] Executed action API.Controllers.MstProvinceController.Search (API) in 159.0371ms
2025-02-05 17:32:53.933 +07:00 [INF] Executed endpoint 'API.Controllers.MstProvinceController.Search (API)'
2025-02-05 17:32:53.934 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MstProvince/Search?pageIndex=0&pageSize=100&keyword= - 200 null application/json; charset=utf-8 252.1692ms
