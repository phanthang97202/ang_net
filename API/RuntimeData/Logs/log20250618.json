{"Timestamp":"2025-06-18T20:25:13.0826164+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"240","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:13.3455840+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:13.4549963+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:13.5469126+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT EXISTS (\n    SELECT 1 FROM pg_catalog.pg_class c\n    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace\n    WHERE n.nspname='public' AND\n          c.relname='__EFMigrationsHistory'\n)","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:13.5476979+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT \"MigrationId\", \"ProductVersion\"\r\nFROM \"__EFMigrationsHistory\"\r\nORDER BY \"MigrationId\";","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:13.5749436+07:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:13.9940389+07:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\phant\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:15.2553431+07:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:15.2560747+07:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:15.2562864+07:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"F:\\Java + Angular\\ang_net\\API","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:15.3027611+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8161e375882be6b59981cf579996bd9","SpanId":"e8f49b7e647a5061","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44398","PathBase":"","Path":"/swagger","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001d-0000-fc00-b63f-84710c7967bb","RequestPath":"/swagger","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:20.0699572+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d8161e375882be6b59981cf579996bd9","SpanId":"e8f49b7e647a5061","Properties":{"RequestMethod":"GET","RequestPath":"/swagger","StatusCode":404,"Elapsed":2575.4985,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000001d-0000-fc00-b63f-84710c7967bb","MachineName":"THANGPHANLAPTOP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2575.4985"}]}}
{"Timestamp":"2025-06-18T20:25:20.1531321+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8161e375882be6b59981cf579996bd9","SpanId":"e8f49b7e647a5061","Properties":{"ElapsedMilliseconds":4857.053,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44398","PathBase":"","Path":"/swagger","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001d-0000-fc00-b63f-84710c7967bb","RequestPath":"/swagger","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:25:20.1567771+07:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"d8161e375882be6b59981cf579996bd9","SpanId":"e8f49b7e647a5061","Properties":{"Method":"GET","Scheme":"https","Host":"localhost:44398","PathBase":"","Path":"/swagger","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001d-0000-fc00-b63f-84710c7967bb","RequestPath":"/swagger","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:23.7565214+07:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":61,"Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/api/account/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:24.6231862+07:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-18 13:30:24'.\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:24.6991102+07:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '2024-10-04 17:25:15', Current time (UTC): '2025-06-18 13:30:24'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:24.7065293+07:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"EndpointName":"API.API.Controllers.AccountController.Login (API)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:24.8498278+07:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"RouteData":"{action = \"Login\", controller = \"Account\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[SharedModels.Dtos.AuthResponseDto]] Login(SharedModels.Dtos.LoginDto)","Controller":"API.API.Controllers.AccountController","AssemblyName":"API","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f93aabb-e121-40ad-be80-9f5fab13ee87","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.2912867+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"elapsed":"44","parameters":"@__normalizedEmail_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a.\"Id\", a.\"AccessFailedCount\", a.\"Address\", a.\"Avatar\", a.\"ConcurrencyStamp\", a.\"Email\", a.\"EmailConfirmed\", a.\"FlagActive\", a.\"FullName\", a.\"LockoutEnabled\", a.\"LockoutEnd\", a.\"NormalizedEmail\", a.\"NormalizedUserName\", a.\"PasswordHash\", a.\"PhoneNumber\", a.\"PhoneNumberConfirmed\", a.\"SecurityStamp\", a.\"TwoFactorEnabled\", a.\"UserName\"\r\nFROM \"AspNetUsers\" AS a\r\nWHERE a.\"NormalizedEmail\" = @__normalizedEmail_0\r\nLIMIT 2","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f93aabb-e121-40ad-be80-9f5fab13ee87","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.6058497+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"elapsed":"11","parameters":"@__userId_0='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT a0.\"Name\"\r\nFROM \"AspNetUserRoles\" AS a\r\nINNER JOIN \"AspNetRoles\" AS a0 ON a.\"RoleId\" = a0.\"Id\"\r\nWHERE a.\"UserId\" = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f93aabb-e121-40ad-be80-9f5fab13ee87","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.8140585+07:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"elapsed":"18","parameters":"@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"INSERT INTO \"RefreshTokens\" (\"RefreshToken\", \"ExpiryDate\", \"IsRevoked\", \"UserId\")\r\nVALUES (@p0, @p1, @p2, @p3);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f93aabb-e121-40ad-be80-9f5fab13ee87","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.8284505+07:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"ObjectResultType":"OkObjectResult","Type":"SharedModels.Dtos.ApiResponse`1[[SharedModels.Dtos.AuthResponseDto, SharedModels, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f93aabb-e121-40ad-be80-9f5fab13ee87","ActionName":"API.API.Controllers.AccountController.Login (API)","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.8692896+07:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"ActionName":"API.API.Controllers.AccountController.Login (API)","ElapsedMilliseconds":2014.8149,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.8702878+07:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"EndpointName":"API.API.Controllers.AccountController.Login (API)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","SkipLogging":false,"MachineName":"THANGPHANLAPTOP"}}
{"Timestamp":"2025-06-18T20:30:26.8720884+07:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"RequestMethod":"POST","RequestPath":"/api/account/login","StatusCode":200,"Elapsed":2881.4988,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","MachineName":"THANGPHANLAPTOP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2881.4988"}]}}
{"Timestamp":"2025-06-18T20:30:26.8823760+07:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15c0f299e9ee72d52b1f83f70eb1127a","SpanId":"879b070865a3f53f","Properties":{"ElapsedMilliseconds":3145.1234,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5000","PathBase":"","Path":"/api/account/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001f-0000-fc00-b63f-84710c7967bb","RequestPath":"/api/account/login","MachineName":"THANGPHANLAPTOP"}}
